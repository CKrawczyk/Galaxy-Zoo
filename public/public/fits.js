((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},q={}.hasOwnProperty,r=function(a,b){function d(){this.constructor=a}for(var c in b)q.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},s=[].slice,t=function(a,b){return function(){return a.apply(b,arguments)}};this.astro==null&&(this.astro={}),e={},e.version="0.2.1",this.astro.FITS=e,o=["included","extended"],l=function(){function a(){}return a.include=function(a){var b,c,d;if(!a)throw"include(obj) requires obj";for(b in a)c=a[b],p.call(o,b)<0&&(this.prototype[b]=c);return(d=a.included)!=null&&d.apply(this),this},a.extend=function(a){var b,c,d;if(!a)throw"extend(obj) requires obj";for(b in a)c=a[b],p.call(o,b)<0&&(this[b]=c);return(d=a.extended)!=null&&d.apply(this),this},a.proxy=function(a){var b=this;return function(){return a.apply(b,arguments)}},a.prototype.proxy=function(a){var b=this;return function(){return a.apply(b,arguments)}},a}(),this.astro.FITS.Module=l,c=function(a){function b(a,b){this.view=a,this.begin=this.current=a.tell(),this.length=void 0}return r(b,a),b}(l),this.astro.FITS.DataUnit=c,i={verifyOrder:function(a,b){if(b!==this.cardIndex)return console.warn(""+a+" should appear at index "+this.cardIndex+" in the FITS header")},verifyBetween:function(a,b,c,d){if(!(b>=c&&b<=d))throw"The "+a+" value of "+b+" is not between "+c+" and "+d},verifyBoolean:function(a){return a==="T"?!0:!1},Functions:{SIMPLE:function(){var a,b;return a=1<=arguments.length?s.call(arguments,0):[],b=arguments[0],this.primary=!0,this.verifyOrder("SIMPLE",0),this.verifyBoolean(b)},XTENSION:function(){var a,b;return a=1<=arguments.length?s.call(arguments,0):[],b=arguments[0],this.extension=!0,this.extensionType=b,this.verifyOrder("XTENSION",0),b},BITPIX:function(){var a,b,c;a=1<=arguments.length?s.call(arguments,0):[],b="BITPIX",c=parseInt(arguments[0]),this.verifyOrder(b,1);if(c!==8&&c!==16&&c!==32&&c!==64&&c!==-32&&c!==-64)throw""+b+" value "+c+" is not permitted";return c},NAXIS:function(){var a,b,c,d,e,f;a=1<=arguments.length?s.call(arguments,0):[],c="NAXIS",e=parseInt(arguments[0]),b=arguments[1];if(!b){this.verifyOrder(c,2),this.verifyBetween(c,e,0,999);if(this.isExtension())if((f=this.extensionType)==="TABLE"||f==="BINTABLE"){d=2;if(e!==d)throw""+c+" must be "+d+" for TABLE and BINTABLE extensions"}}return e},PCOUNT:function(){var a,b,c,d,e,f;a=1<=arguments.length?s.call(arguments,0):[],b="PCOUNT",e=parseInt(arguments[0]),c=3+this.NAXIS,this.verifyOrder(b,c);if(this.isExtension())if((f=this.extensionType)==="IMAGE"||f==="TABLE"){d=0;if(e!==d)throw""+b+" must be "+d+" for the "+this.extensionType+" extensions"}return e},GCOUNT:function(){var a,b,c,d,e,f;a=1<=arguments.length?s.call(arguments,0):[],b="GCOUNT",e=parseInt(arguments[0]),c=3+this.NAXIS+1,this.verifyOrder(b,c);if(this.isExtension())if((f=this.extensionType)==="IMAGE"||f==="TABLE"||f==="BINTABLE"){d=1;if(e!==d)throw""+b+" must be "+d+" for the "+this.extensionType+" extensions"}return e},EXTEND:function(){var a,b,c;a=1<=arguments.length?s.call(arguments,0):[],b="EXTEND",c=arguments[0];if(!this.isPrimary())throw""+b+" must only appear in the primary header";return this.verifyBoolean(c)},BSCALE:function(){var a;return a=1<=arguments.length?s.call(arguments,0):[],parseFloat(arguments[0])},BZERO:function(){var a;return a=1<=arguments.length?s.call(arguments,0):[],parseFloat(arguments[0])},BLANK:function(){var a,b,c;a=1<=arguments.length?s.call(arguments,0):[],b="BLANK",c=arguments[0];if(this.BIXPIX>0)return parseInt(c);throw""+b+" is not to be used for BITPIX = "+this.BITPIX},DATAMIN:function(){var a;return a=1<=arguments.length?s.call(arguments,0):[],parseFloat(arguments[0])},DATAMAX:function(){var a;return a=1<=arguments.length?s.call(arguments,0):[],parseFloat(arguments[0])},EXTVER:function(){var a,b,c;return a=1<=arguments.length?s.call(arguments,0):[],b="EXTVER",c=arguments[0],c=parseInt(c),c},EXTLEVEL:function(){var a,b,c;return a=1<=arguments.length?s.call(arguments,0):[],b="EXTLEVEL",c=arguments[0],c=parseInt(c),c},TFIELDS:function(){var a,b,c;return a=1<=arguments.length?s.call(arguments,0):[],b="TFIELDS",c=arguments[0],c=parseInt(c),this.verifyBetween(b,c,0,999),c},TBCOL:function(){var a,b,c,d;return a=1<=arguments.length?s.call(arguments,0):[],c="TBCOL",d=arguments[0],b=arguments[2],this.verifyBetween(c,b,0,this.TFIELDS),d},ZIMAGE:function(){var a,b,c;return a=1<=arguments.length?s.call(arguments,0):[],b="ZIMAGE",c=arguments[0],this.verifyBoolean(c)},ZCMPTYPE:function(){var a,b,c;a=1<=arguments.length?s.call(arguments,0):[],b="ZCMPTYPE",c=arguments[0];if(c!=="GZIP_1"&&c!=="RICE_1"&&c!=="PLIO_1"&&c!=="HCOMPRESS_1")throw""+b+" value "+c+" is not permitted";if(c!=="RICE_1"&&c!=="GZIP_1")throw"Compress type "+c+" is not yet implement";return c},ZBITPIX:function(){var a,b,c;a=1<=arguments.length?s.call(arguments,0):[],b="ZBITPIX",c=parseInt(arguments[0]);if(c!==8&&c!==16&&c!==32&&c!==64&&c!==-32&&c!==-64)throw""+b+" value "+c+" is not permitted";return c},ZNAXIS:function(){var a,b,c,d;return a=1<=arguments.length?s.call(arguments,0):[],c="ZNAXIS",d=parseInt(arguments[0]),b=arguments[1],d=d,b||this.verifyBetween(c,d,0,999),d},ZTILE:function(){var a,b;return a=1<=arguments.length?s.call(arguments,0):[],b="ZTILE",parseInt(arguments[0])},ZSIMPLE:function(){var a;return a=1<=arguments.length?s.call(arguments,0):[],arguments[0]==="T"?!0:!1},ZPCOUNT:function(){var a,b;return a=1<=arguments.length?s.call(arguments,0):[],b="ZPCOUNT",parseInt(arguments[0])},ZGCOUNT:function(){var a,b;return a=1<=arguments.length?s.call(arguments,0):[],b="ZGCOUNT",parseInt(arguments[0])}}},this.astro.FITS.HeaderVerify=i,h=function(a){function b(){this.init=t(this.init,this);var a,b,c;this.primary=!1,this.extension=!1,this.verifyCard={},c=this.Functions;for(b in c)a=c[b],this.verifyCard[b]=this.proxy(a);this.cards={},this.cardIndex=0}return r(b,a),b.keywordPattern=/^([A-Z0-9_-]+)\s*=\s*(.*)/,b.nonStringPattern=/([^\/]*)\s*\/*(.*)/,b.stringPattern=/'(.*)'\s*\/*(.*)/,b.arrayPattern=/([A-Za-z]+)(\d+)/,b.include(i),b.prototype.get=function(a){return this.contains(a)?this.cards[a]:console.warn("Header does not contain the key "+a)},b.prototype.getIndex=function(a){return this.contains(a)?this.cards[a][0]:console.warn("Header does not contain the key "+a)},b.prototype.getComment=function(a){return this.contains(a)?this.cards[a][2]!=null?this.cards[a][2]:console.warn(""+a+" does not contain a comment"):console.warn("Header does not contain the key "+a)},b.prototype.getComments=function(){return this.contains("COMMENT")?this.cards.COMMENT:console.warn("Header does not contain any COMMENT fields")},b.prototype.getHistory=function(){return this.contains("HISTORY")?this.cards.HISTORY:console.warn("Header does not contain any HISTORY fields")},b.prototype.set=function(a,b,c){return this.cards[a]=c?[this.cardIndex,b,c]:[this.cardIndex,b],this.cardIndex+=1},b.prototype.setComment=function(a){return this.contains("COMMENT")||(this.cards.COMMENT=[],this.cardIndex+=1),this.cards.COMMENT.push(a)},b.prototype.setHistory=function(a){return this.contains("HISTORY")||(this.cards.HISTORY=[],this.cardIndex+=1),this.cards.HISTORY.push(a)},b.prototype.contains=function(a){return this.cards.hasOwnProperty(a)},b.prototype.readCard=function(a){var c,d,e,f,g,h,i,j,k,l,m,n;h=a.match(b.keywordPattern);if(h==null)return;j=h.slice(1),f=j[0],i=j[1],f==="COMMENT"||f==="HISTORY"?h[1]=i.trim():i[0]==="'"?(h=i.match(b.stringPattern),h[1]=h[1].trim()):(h=i.match(b.nonStringPattern),h[1]=(k=h[1][0])==="T"||k==="F"?h[1].trim():parseFloat(h[1])),h[2]=h[2].trim(),l=h.slice(1),i=l[0],d=l[1],g=f,m=[!1,void 0],c=m[0],e=m[1],h=f.match(b.arrayPattern),h!=null&&(g=h[1],n=[!0,h[2]],c=n[0],e=n[1]),this.verifyCard.hasOwnProperty(g)&&(i=this.verifyCard[g](i,c,e));switch(f){case"COMMENT":return this.setComment(i);case"HISTORY":return this.setHistory(i);default:return this.set(f,i,d),this.__defineGetter__(f,function(){return this.cards[f][1]})}},b.prototype.init=function(a){var b,c,d,e,f,g,h,i;d=80,f=a.length/d,e=600,f=f<e?f:e,i=[];for(b=g=0,h=f-1;0<=h?g<=h:g>=h;b=0<=h?++g:--g)c=a.slice(b*d,(b+1)*d),i.push(this.readCard(c));return i},b.prototype.hasDataUnit=function(){return this.NAXIS===0?!1:!0},b.prototype.isPrimary=function(){return this.primary},b.prototype.isExtension=function(){return this.extension},b}(l),this.astro.FITS.Header=h,k={initArray:function(a){return this.data=new a(this.width*this.height)},getExtremes:function(){var a,b,c,d,e,f;if(this.min!=null&&this.max!=null)return[this.min,this.max];a=this.data.length;while(a--){d=this.data[a];if(isNaN(d))continue;e=[d,d],c=e[0],b=e[1];break}while(a--){d=this.data[a];if(isNaN(d))continue;d<c&&(c=d),d>b&&(b=d)}return f=[c,b],this.min=f[0],this.max=f[1],[this.min,this.max]},getPixel:function(a,b){return this.data[b*this.width+a]}},this.astro.FITS.ImageUtils=k,j=function(a){function b(a,c){var d,e,f,g,h=this;b.__super__.constructor.apply(this,arguments),f=c.NAXIS,d=c.BITPIX,this.naxis=[];for(e=g=1;1<=f?g<=f:g>=f;e=1<=f?++g:--g)this.naxis.push(c["NAXIS"+e]);this.width=c.NAXIS1,this.height=c.NAXIS2||1,this.rowByteSize=this.width*Math.abs(d)/8,this.totalRowsRead=0,this.length=this.naxis.reduce(function(a,b){return a*b})*Math.abs(d)/8,this.data=void 0,this.frame=0;switch(d){case 8:this.arrayType=Uint8Array,this.accessor=function(){return h.view.getUint8()};break;case 16:this.arrayType=Int16Array,this.accessor=function(){return h.view.getInt16()};break;case 32:this.arrayType=Int32Array,this.accessor=function(){return h.view.getInt32()};break;case 64:this.arrayType=Int32Array,console.warn("Something funky happens here when dealing with 64 bit integers.  Be wary!!!"),this.accessor=function(){var a,b,c,d,e;return b=Math.abs(h.view.getInt32()),c=Math.abs(h.view.getInt32()),d=b%10,a=d?-1:1,b-=d,e=a*(b<<32|c),e};break;case-32:this.arrayType=Float32Array,this.accessor=function(){return h.view.getFloat32()};break;case-64:this.arrayType=Float64Array,this.accessor=function(){return h.view.getFloat64()};break;default:throw"FITS keyword BITPIX does not conform to one of the following set values [8, 16, 32, 64, -32, -64]"}}return r(b,a),b.include(k),b.prototype.getRow=function(){var a,b,c;this.current=this.begin+this.totalRowsRead*this.rowByteSize,this.view.seek(this.current);for(a=b=0,c=this.width-1;0<=c?b<=c:b>=c;a=0<=c?++b:--b)this.data[this.width*this.rowsRead+a]=this.accessor();return this.rowsRead+=1,this.totalRowsRead+=1},b.prototype.getFrame=function(a){var b;this.frame=a!=null?a:this.frame,this.data==null&&this.initArray(this.arrayType),this.totalRowsRead=this.width*this.frame,this.rowsRead=0,b=this.height;while(b--)this.getRow();return this.frame+=1,this.data},b.prototype.seek=function(a){return a==null&&(a=0),this.naxis.length===2?(this.totalRowsRead=0,this.frame=0):(this.totalRowsRead=this.height*a,this.frame=this.height/this.totalRowsRead-1)},b.prototype.isDataCube=function(){return this.naxis.length>2?!0:!1},b}(c),this.astro.FITS.Image=j,n=function(a){function b(a,c){this.getRow=t(this.getRow,this),b.__super__.constructor.apply(this,arguments),this.rowByteSize=c.NAXIS1,this.rows=c.NAXIS2,this.cols=c.TFIELDS,this.length=this.tableLength=this.rowByteSize*this.rows,this.rowsRead=0,this.columns=this.getColumnNames(c),this.accessors=[]}return r(b,a),b.dataAccessors={L:function(a){return a.getInt8()===84?!0:!1},X:function(a){throw"Data type not yet implemented"},B:function(a){return a.getUint8()},I:function(a){return a.getInt16()},J:function(a){return a.getInt32()},K:function(a){var b,c,d,e,f;return c=Math.abs(a.getInt32()),d=Math.abs(a.getInt32()),e=c%10,b=e?-1:1,c-=e,f=b*(c<<32|d),console.warn("Something funky happens here when dealing with 64 bit integers.  Be wary!!!"),f},A:function(a){return a.getChar()},E:function(a){return a.getFloat32()},D:function(a){return a.getFloat64()},C:function(a){return[a.getFloat32(),a.getFloat32()]},M:function(a){return[a.getFloat64(),a.getFloat64()]}},b.prototype.getRow=function(a){var b,c,d,e,f;a==null&&(a=null),a!=null&&(this.rowsRead=a),this.current=this.begin+this.rowsRead*this.rowByteSize,this.view.seek(this.current),a={},f=this.accessors;for(c=d=0,e=f.length;d<e;c=++d)b=f[c],a[this.columns[c]]=b();return this.rowsRead+=1,a},b.prototype.getColumnNames=function(a){var b,c,d,e,f;b=[];for(c=e=1,f=this.cols;1<=f?e<=f:e>=f;c=1<=f?++e:--e){d="TTYPE"+c;if(!a.contains(d))return null;b.push(a[d])}return b},b}(c),this.astro.FITS.Tabular=n,m=function(a){function b(a,c){this.getRow=t(this.getRow,this);var d,e,f,g,h,i,j=this;b.__super__.constructor.apply(this,arguments),g=function(){var a,c,d,e,g;return g=f.slice(1),c=g[0],e=g[1],d=g[2],a=function(a){return b.dataAccessors[c](a)},j.accessors.push(a)};for(e=h=1,i=this.cols;1<=i?h<=i:h>=i;e=1<=i?++h:--h)d=c["TFORM"+e],f=d.match(b.formPattern),g()}return r(b,a),b.formPattern=/([AIFED])(\d+)\.*(\d+)*/,b.dataAccessors={A:function(a){return a.trim()},I:function(a){return parseInt(a)},F:function(a){return parseFloat(a)},E:function(a){return parseFloat(a)},D:function(a){return parseFloat(a)}},b.prototype.getRow=function(a){var b,c,d,e,f,g,h,i;a==null&&(a=null),a!=null&&(this.rowsRead=a),this.current=this.begin+this.rowsRead*this.rowByteSize,this.view.seek(this.current),d="";for(b=f=1,i=this.rowByteSize;1<=i?f<=i:f>=i;b=1<=i?++f:--f)d+=this.view.getChar();d=d.trim().split(/\s+/),a={};for(c=g=0,h=d.length;g<h;c=++g)e=d[c],a[this.columns[c]]=this.accessors[c](e);return this.rowsRead+=1,a},b}(n),this.astro.FITS.Table=m,a=function(a){function b(a,c){var d,e,f,g,h,i,j,k,l,m=this;b.__super__.constructor.apply(this,arguments);for(e=j=1,k=this.cols;1<=k?j<=k:j>=k;e=1<=k?++j:--j)f="TFORM"+e,i=c[f],h=i.match(b.arrayDescriptorPattern),h!=null?function(){var a,c;return c=h[1],a=function(){var a,d,f,g;d=m.view.getInt32(),f=m.view.getInt32(),m.current=m.view.tell(),m.view.seek(m.begin+m.tableLength+f),a=[];for(e=g=1;1<=d?g<=d:g>=d;e=1<=d?++g:--g)a.push(b.dataAccessors[c](m.view));return m.view.seek(m.current),a},m.accessors.push(a)}():(h=i.match(b.dataTypePattern),l=h.slice(1),g=l[0],d=l[1],g=g?parseInt(g):0,g===0||g===1?function(a){var c;return c=function(){var c;return c=b.dataAccessors[a](m.view),c},m.accessors.push(c)}(d):function(a,c){var d,f;return a==="X"?(f=Math.log(c)/Math.log(2),d=function(){var a,b,d,g,h,i,j,k;g=function(a){var b;b=[],e=128;while(e>=1)b.push(a&e?1:0),e/=2;return b},h=[];for(e=i=1;1<=f?i<=f:i>=f;e=1<=f?++i:--i){d=m.view.getUint8(),b=g(d);for(j=0,k=b.length;j<k;j++)a=b[j],h.push(a)}return h.slice(0,+(c-1)+1||9e9)}):a==="A"?d=function(){var d,f;d="";for(e=f=1;1<=c?f<=c:f>=c;e=1<=c?++f:--f)d+=b.dataAccessors[a](m.view);return d.trim()}:d=function(){var d,f;d=[];for(e=f=1;1<=c?f<=c:f>=c;e=1<=c?++f:--f)d.push(b.dataAccessors[a](m.view));return d},m.accessors.push(d)}(d,g))}return r(b,a),b.dataTypePattern=/(\d*)([L|X|B|I|J|K|A|E|D|C|M])/,b.arrayDescriptorPattern=/[0,1]*P([L|X|B|I|J|K|A|E|D|C|M])\((\d*)\)/,b}(n),this.astro.FITS.BinaryTable=a,d={Rice:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;h=1<<k,u=this.RiceSetup[d](a),k=u[0],l=u[1],p=u[2],t=u[3],r=new Uint8Array(256),s=8,v=[128,255],o=v[0],m=v[1];while(m>=0){while(m>=o)r[m]=s,m-=1;o/=2,s-=1}r[0]=0,g=a[t],t+=1,q=8,m=0;while(m<f){q-=k;while(q<0)g=g<<8|a[t],t+=1,q+=8;j=(g>>q)-1,g&=(1<<q)-1,n=m+c,n>f&&(n=f);if(j<0)while(m<n)a[m]=p,m++;else if(j===l)while(m<n){o=h-q,i=g<<o,o-=8;while(o>=0)g=a[t],t+=1,i|=g<<o,o-=8;q>0?(g=a[t],t+=1,i|=g>>-o,g&=(1<<q)-1):g=0,(i&1)===0?i>>=1:i=~(i>>1),a[m]=i+p,p=a[m],m++}else while(m<n){while(g===0)q+=8,g=a[t],t+=1;s=q-r[g],q-=s+1,g^=1<<q,q-=j;while(q<0)g=g<<8|a[t],t+=1,q+=8;i=s<<j|g>>q,g&=(1<<q)-1,(i&1)===0?i>>=1:i=~(i>>1),e[m]=i+p,p=e[m],m++}}return e},RiceSetup:{1:function(a){var b,c,d,e;return e=0,b=3,c=6,d=a[e],e+=1,[b,c,d,e]},2:function(a){var b,c,d,e,f;return f=0,c=4,d=14,e=0,b=a[f],f+=1,e|=b<<8,b=a[f],f+=1,e|=b,[c,d,e,f]},4:function(a){var b,c,d,e,f;return f=0,c=5,d=25,e=0,b=a[f],f+=1,e|=b<<24,b=a[f],f+=1,e|=b<<16,b=a[f],f+=1,e|=b<<8,b=a[f],f+=1,e|=b,[c,d,e,f]}},gzip:function(a){throw"Not yet implemented"},plio:function(a,b){throw"Not yet implemented"},hcompress:function(a,b){throw"Not yet implemented"}},this.astro.FITS.Decompress=d,b=function(a){function b(a,c){var d,e,f,g,h,i;b.__super__.constructor.apply(this,arguments),this.length+=c.PCOUNT,this.zcmptype=c.ZCMPTYPE,this.zbitpix=c.ZBITPIX,this.znaxis=c.ZNAXIS,this.zblank=b.setValue(c,"ZBLANK",void 0),this.blank=b.setValue(c,"BLANK",void 0),this.ztile=[];for(d=h=1,i=this.znaxis;1<=i?h<=i:h>=i;d=1<=i?++h:--h)g=c.contains("ZTILE"+d)?c["ZTILE"+d]:d===1?c.ZNAXIS1:1,this.ztile.push(g);this.width=c.ZNAXIS1,this.height=c.ZNAXIS2||1,this.algorithmParameters={},d=1;for(;;){e="ZNAME"+d;if(!c.contains(e))break;f="ZVAL"+d,this.algorithmParameters[c[e]]=c[f],d+=1}this.zcmptype==="RICE_1"&&this.setRiceDefaults(),this.zmaskcmp=b.setValue(c,"ZMASKCMP",void 0),this.zquantiz=b.setValue(c,"ZQUANTIZ","LINEAR_SCALING"),this.bzero=b.setValue(c,"BZERO",0),this.bscale=b.setValue(c,"BSCALE",1),this.defineColumnAccessors(c),this.defineGetRow()}return r(b,a),b.dataTypePattern=/(\d*)([L|X|B|I|J|K|A|E|D|C|M])/,b.arrayDescriptorPattern=/[0,1]*P([L|X|B|I|J|K|A|E|D|C|M])\((\d*)\)/,b.include(k),b.extend(d),b.typedArray={B:Uint8Array,I:Int16Array,J:Int32Array,E:Float32Array,D:Float64Array,1:Uint8Array,2:Uint8Array,4:Int16Array,8:Int32Array},b.prototype.defineColumnAccessors=function(a){var c,d,e,f,g,h,i,j,k,l,m,n=this;this.columnNames={},m=[];for(e=j=1,k=this.cols;1<=k?j<=k:j>=k;e=1<=k?++j:--j){i=a["TFORM"+e],g=i.match(b.arrayDescriptorPattern),h=a["TTYPE"+e].toUpperCase(),this.columnNames[h]=e-1,c=null;if(g!=null){d=g[1];switch(h){case"COMPRESSED_DATA":(function(a){return c=function(){var c,d;return c=n._accessor(a),c==null?new Float32Array(n.ztile[0]):(d=new b.typedArray[n.algorithmParameters.BYTEPIX](n.ztile[0]),b.Rice(c,f,n.algorithmParameters.BLOCKSIZE,n.algorithmParameters.BYTEPIX,d,n.ztile[0]),d)}})(d);break;case"UNCOMPRESSED_DATA":(function(a){return c=n._accessor(a)})(d);break;case"GZIP_COMPRESSED_DATA":(function(a){return c=function(){var b,c,d,e,f;b=n._accessor(a);if(b!=null){b=new Float32Array(n.width);for(c=e=0,f=b.length;e<f;c=++e)d=b[c],b[c]=NaN;return b}return null}})(d);break;default:(function(a){return c=n._accessor(a)})(d)}}else g=i.match(b.dataTypePattern),l=g.slice(1),f=l[0],d=l[1],f=f!=null?parseInt(f):0,f===0||f===1?function(a){return c=function(){return b.dataAccessors[a](n.view)}}(d):function(a,d){return c=function(){var c,f,g;c=new b.typedArray[d](a);for(e=f=0,g=a-1;0<=g?f<=g:f>=g;e=0<=g?++f:--f)c[e]=b.dataAccessors[d](n.view);return c}}(f,d);m.push(this.accessors.push(c))}return m},b.prototype.defineGetRow=function(){var a;return this.totalRowsRead=0,a=this.zblank!=null||this.blank!=null||this.columnNames.hasOwnProperty("ZBLANK"),this.getRow=a?this.getRowHasBlanks:this.getRowNoBlanks},b.prototype.setRiceDefaults=function(){this.algorithmParameters.hasOwnProperty("BLOCKSIZE")||(this.algorithmParameters.BLOCKSIZE=32);if(!this.algorithmParameters.hasOwnProperty("BYTEPIX"))return this.algorithmParameters.BYTEPIX=4},b.setValue=function(a,b,c){return a.contains(b)?a[b]:c},b.prototype.getRowHasBlanks=function(){var a,b,c,d,e,f,g,h,i,j;j=this._getRow(),b=j[0],a=j[1],e=j[2],g=j[3];for(c=h=0,i=b.length;h<i;c=++h)f=b[c],d=this.totalRowsRead*this.width+c,this.data[d]=f===a?NaN:g+e*f;return this.rowsRead+=1,this.totalRowsRead+=1},b.prototype.getRowNoBlanks=function(){var a,b,c,d,e,f,g,h,i,j;j=this._getRow(),b=j[0],a=j[1],e=j[2],g=j[3];for(c=h=0,i=b.length;h<i;c=++h)f=b[c],d=this.totalRowsRead*this.width+c,this.data[d]=g+e*f;return this.rowsRead+=1,this.totalRowsRead+=1},b.prototype.getFrame=function(){var a;this.data==null&&this.initArray(Float32Array),this.totalRowsRead=0,this.rowsRead=0,a=this.height;while(a--)this.getRow();return this.data},b.prototype._accessor=function(a){var c,d,e,f,g,h,i;h=[this.view.getInt32(),this.view.getInt32()],e=h[0],f=h[1];if(e===0)return null;c=new b.typedArray[a](e),this.current=this.view.tell(),this.view.seek(this.begin+this.tableLength+f);for(d=g=0,i=e-1;0<=i?g<=i:g>=i;d=0<=i?++g:--g)c[d]=b.dataAccessors[a](this.view);return this.view.seek(this.current),c},b.prototype._getRow=function(){var a,b,c,d,e,f,g,h,i;this.current=this.begin+this.totalRowsRead*this.rowByteSize,this.view.seek(this.current),d=[],i=this.accessors;for(g=0,h=i.length;g<h;g++)a=i[g],d.push(a());return c=d[this.columnNames.COMPRESSED_DATA]||d[this.columnNames.UNCOMPRESSED_DATA]||d[this.columnNames.GZIP_COMPRESSED_DATA],b=d[this.columnNames.ZBLANK]||this.zblank,e=d[this.columnNames.ZSCALE]||this.bscale,f=d[this.columnNames.ZZERO]||this.bzero,[c,b,e,f]},b.subtractiveDither1=function(){throw"Not yet implemented"},b.linearScaling=function(){throw"Not yet implemented"},b}(n),this.astro.FITS.CompressedImage=b,g=function(){function a(a,b){this.header=a,this.data=b}return a.prototype.hasData=function(){return this.data!=null?!0:!1},a.prototype.getCard=function(a){return this.header[a]},a}(),this.astro.FITS.HDU=g,f=function(){function c(a){var b;b=c.getType(a);switch(b){case"arraybuffer":this.initFromBuffer(a);break;case"object":this.initFromObject(a);break;default:throw"fitsjs cannot initialize object"}}return c.LINEWIDTH=80,c.BLOCKLENGTH=2880,c.getType=function(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()},c.excessBytes=function(a){return(c.BLOCKLENGTH-a%c.BLOCKLENGTH)%c.BLOCKLENGTH},c.extendDataView=function(a){var b,c,d,e,f,g,h,i;return DataView.prototype.getString=function(a){var b,c,d,e,f;d="";for(c=e=0,f=a-1;0<=f?e<=f:e>=f;c=0<=f?++e:--e)b=this.getUint8(),d+=String.fromCharCode(b>127?65533:b);return d},DataView.prototype.getChar=function(){return this.getString(1)},a.offset=0,f=a.getInt8,i=a.getUint8,d=a.getInt16,g=a.getUint16,e=a.getInt32,h=a.getUint32,b=a.getFloat32,c=a.getFloat64,a.getInt8=function(){var a;return a=f.apply(this,[this.offset]),this.offset+=1,a},a.getUint8=function(){var a;return a=i.apply(this,[this.offset]),this.offset+=1,a},a.getInt16=function(){var a;return a=d.apply(this,[this.offset,!1]),this.offset+=2,a},a.getUint16=function(){var a;return a=g.apply(this,[this.offset,!1]),this.offset+=2,a},a.getInt32=function(){var a;return a=e.apply(this,[this.offset,!1]),this.offset+=4,a},a.getUint32=function(){var a;return a=h.apply(this,[this.offset,!1]),this.offset+=4,a},a.getFloat32=function(){var a;return a=b.apply(this,[this.offset,!1]),this.offset+=4,a},a.getFloat64=function(){var a;return a=c.apply(this,[this.offset,!1]),this.offset+=8,a},a.seek=function(a){return this.offset=a},a.tell=function(){return this.offset}},c.prototype.initFromBuffer=function(a){var b,d,e,f;this.length=a.byteLength,this.view=new DataView(a),this.hdus=[],this.eof=!1,c.extendDataView(this.view),f=[];for(;;){e=this.readHeader(),b=this.readData(e),d=new g(e,b),this.hdus.push(d);if(this.eof)break;f.push(void 0)}return f},c.prototype.initFromObject=function(a){return this.length=a.length,this.view=null,this.hdus=a.hdus,this.eof=!0},c.prototype.readHeader=function(){var a,b,d,e,f,g,i,j,k,l,m,n;n=/\s{80}/,g=/^END\s/,a=this.view.tell(),d=!1;for(;;){if(d)break;b=this.view.getString(c.BLOCKLENGTH),j=0;for(;;){m=c.BLOCKLENGTH-c.LINEWIDTH*(j+1),e=c.BLOCKLENGTH-c.LINEWIDTH*j,k=b.slice(m,e),l=k.match(n);if(l){j+=1;continue}l=k.match(g);if(l)return f=this.view.tell(),this.view.seek(a),b=this.view.getString(f-a),i=new h,i.init(b),d=!0,this.checkEOF(),i;break}}},c.prototype.readData=function(d){var e,f;if(!d.hasDataUnit())return;return d.isPrimary()?e=new j(this.view,d):d.isExtension()&&(d.extensionType==="BINTABLE"?d.contains("ZIMAGE")?e=new b(this.view,d):e=new a(this.view,d):d.extensionType==="TABLE"?e=new m(this.view,d):d.extensionType==="IMAGE"&&(e=new j(this.view,d))),f=c.excessBytes(e.length),this.view.seek(this.view.tell()+e.length+f),this.checkEOF(),e},c.prototype.checkEOF=function(){if(this.view.offset>=this.length)return this.eof=!0},c.prototype.count=function(){return this.hdus.length},c.prototype.getHDU=function(a){var b,c,d,e;a==null&&(a=void 0);if(a!=null&&this.hdus[a]!=null)return this.hdus[a];e=this.hdus;for(c=0,d=e.length;c<d;c++){b=e[c];if(b.hasData())return b}},c.prototype.getHeader=function(a){return a==null&&(a=void 0),this.getHDU(a).header},c.prototype.getDataUnit=function(a){return a==null&&(a=void 0),this.getHDU(a).data},c.prototype.getData=function(a){return a==null&&(a=void 0),this.getHDU(a).data.getFrame()},c}(),this.astro.FITS.File=f})).call(this),function(){if(!this.require){var a={},b={},c=function(f,g){var h=d(g,f),i=d(h,"./index"),j,k;j=b[h]||b[i];if(j)return j;if(k=a[h]||a[h=i])return j={id:h,exports:{}},b[h]=j.exports,k(j.exports,function(a){return c(a,e(h))},j),b[h]=j.exports;throw"module "+f+" not found"},d=function(a,b){var c=[],d,e;/^\.\.?(\/|$)/.test(b)?d=[a,b].join("/").split("/"):d=b.split("/");for(var f=0,g=d.length;f<g;f++)e=d[f],e==".."?c.pop():e!="."&&e!=""&&c.push(e);return c.join("/")},e=function(a){return a.split("/").slice(0,-1).join("/")};this.require=function(a){return c(a,"")},this.require.define=function(b){for(var c in b)a[c]=b[c]},this.require.modules=a,this.require.cache=b}return this.require.define}.call(this)({"controllers/fitsviewer":function(a,b,c){((function(){var a,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty,g=function(a,b){function d(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=b("lib/web_gl"),a=function(a){function b(){this.teardown=e(this.teardown,this),this.drawMarkers=e(this.drawMarkers,this),this.wheelHandler=e(this.wheelHandler,this),this.selectStretch=e(this.selectStretch,this),this.selectBand=e(this.selectBand,this),this.drawScene=e(this.drawScene,this),this.setRectangle=e(this.setRectangle,this),this.setupWebGL=e(this.setupWebGL,this),this.destroyStretchButtons=e(this.destroyStretchButtons,this),this.createStretchButtons=e(this.createStretchButtons,this),this.destroyBandButtons=e(this.destroyBandButtons,this),this.createBandButtons=e(this.createBandButtons,this),this.destroyMetadata=e(this.destroyMetadata,this),this.createMetadata=e(this.createMetadata,this),this.receiveFITS=e(this.receiveFITS,this),this.requestFITS=e(this.requestFITS,this),b.__super__.constructor.apply(this,arguments),window.URL=window.URL||window.webkitURL,this.images={},this.histograms={},this.means={},this.percentiles={},this.textureCount=0,this.textures={},this.container=document.querySelector("#examine .subject"),this.controls=$("#viewer-controls"),this.createMetadata(),this.createBandButtons(),this.createStretchButtons()}return g(b,a),b.validDestination="http://www.sdss.org.uk/",b.bins=1e4,b.viewportWidth=424,b.viewportHeight=424,b.prototype.events={"click .band":"selectBand","change #stretch":"selectStretch"},b.prototype.requestFITS=function(a,c){var d;return window.addEventListener("message",this.receiveFITS,!1),d={survey:a,id:c},$("#dataonwire")[0].contentWindow.postMessage(d,b.validDestination)},b.prototype.receiveFITS=function(a){var c,d,e,f,g,h=this;return a.origin==="https://api.zooniverse.org"?null:a.data.error!=null?window.removeEventListener("message",this.receiveFITS,!1):(c=a.data,d=new $.Deferred,e=new $.Deferred,f=d.promise(),g=e.promise(),f=f.pipe(function(a){var b,c;return b=a.band,h.images[b]=new astro.FITS.File(a.arraybuffer),c=h.images[b].getDataUnit(),h.gl==null&&(h.width=c.width,h.height=c.height,h.setupWebGL()),c.getFrame(),c.getExtremes(),[c,b]}),f=f.pipe(function(a){var d,f,g,i;return f=a[0],d=a[1],g={min:f.min,max:f.max,data:f.data,bins:b.bins,band:d},i=new Worker("/fits_workers.js"),i.addEventListener("message",function(a){return c=a.data,d=c.band,h.histograms[d]=c.histogram,h.means[d]=c.mean,h.percentiles[d]=[c.lower,c.upper],$("#band-"+d).removeAttr("disabled"),$("#stretch").removeAttr("disabled"),e.resolve({image:h.images[d],band:d})},!1),i.postMessage(g)}),g=g.pipe(function(a){var b,c,d,e,f;return c=a.band,e=a.image,d=e.getDataUnit(),b="TEXTURE"+h.textureCount,h.gl.activeTexture(h.gl[b]),f=h.gl.createTexture(),h.gl.bindTexture(h.gl.TEXTURE_2D,f),h.gl.texParameteri(h.gl.TEXTURE_2D,h.gl.TEXTURE_WRAP_S,h.gl.CLAMP_TO_EDGE),h.gl.texParameteri(h.gl.TEXTURE_2D,h.gl.TEXTURE_WRAP_T,h.gl.CLAMP_TO_EDGE),h.gl.texParameteri(h.gl.TEXTURE_2D,h.gl.TEXTURE_MIN_FILTER,h.gl.NEAREST),h.gl.texParameteri(h.gl.TEXTURE_2D,h.gl.TEXTURE_MAG_FILTER,h.gl.NEAREST),h.gl.texImage2D(h.gl.TEXTURE_2D,0,h.gl.LUMINANCE,d.width,d.height,0,h.gl.LUMINANCE,h.gl.FLOAT,d.data),h.textures[c]=b,h.textureCount+=1,{band:c}}),d.resolve(c))},b.prototype.createMetadata=function(){return this.subjectInfo=$("#examine .subject-info"),this.subjectInfo.append("<div class='row'>\n  <span class='key'>"+I18n.t("fits.x_y")+":</span>\n  <span class='xy value'></span>\n</div>"),this.subjectInfo.append("<div class='row'>\n  <span class='key'>"+I18n.t("fits.intensity")+":</span>\n  <span class='intensity value'></span>\n</div>")},b.prototype.destroyMetadata=function(){return this.subjectInfo&&this.subjectInfo.empty(),this.subjectInfo=null},b.prototype.createBandButtons=function(){var a,b,c,d,e;e=this.bands;for(c=0,d=e.length;c<d;c++)a=e[c],b=a.toLowerCase(),this.controls.append("<button id='band-"+a+"' class='band' value='"+a+"' disabled='disabled'>"+b+"</button>");return this.controls.append("<button id='band-color' class='band' value='color'>"+I18n.t("fits.color")+"</button>")},b.prototype.destroyBandButtons=function(){return this.controls&&this.controls.empty(),this.controls=null},b.prototype.createStretchButtons=function(){return this.controls.append("<select id='stretch' disabled='disabled'>                        <option value='linear'>"+I18n.t("fits.linear")+"</option>                        <option value='logarithm'>"+I18n.t("fits.logarithm")+"</option>                        <option value='sqrt'>"+I18n.t("fits.square_root")+"</option>                        <option value='arcsinh'>"+I18n.t("fits.arcsinh")+"</option>                        <option value='power'>"+I18n.t("Power")+"</option>                      </select>"),this.stretch=$("#stretch")},b.prototype.destroyStretchButtons=function(){if(this.controls)return this.controls.empty()},b.prototype.setupWebGL=function(){var a,c,e,f,g,h,i,j,k,l,m,n,o,p=this;this.canvas=d.setupCanvas(this.container,b.viewportWidth,b.viewportHeight),this.gl=d.create3DContext(this.canvas),this.ext=this.gl.getExtension("OES_texture_float"),$("#webgl-fits").hide();if(!this.ext)return null;this.vertexShader=d.loadShader(this.gl,d.vertexShader,this.gl.VERTEX_SHADER),this.programs={},o=["linear","logarithm","sqrt","arcsinh","power"];for(m=0,n=o.length;m<n;m++)f=o[m],e=d.loadShader(this.gl,d.fragmentShaders[f],this.gl.FRAGMENT_SHADER),this.programs[f]=d.createProgram(this.gl,[this.vertexShader,e]);return j=this.stretch.val(),this.program=this.programs[j],this.gl.useProgram(this.program),h=this.gl.getAttribLocation(this.program,"a_position"),l=this.gl.getAttribLocation(this.program,"a_textureCoord"),c=this.gl.getUniformLocation(this.program,"u_extremes"),g=this.gl.getUniformLocation(this.program,"u_offset"),i=this.gl.getUniformLocation(this.program,"u_scale"),k=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,k),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(l),this.gl.vertexAttribPointer(l,2,this.gl.FLOAT,!1,0,0),a=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a),this.gl.enableVertexAttribArray(h),this.gl.vertexAttribPointer(h,2,this.gl.FLOAT,!1,0,0),this.setRectangle(0,0,this.width,this.height),this.xOffset=-this.width/2,this.yOffset=-this.height/2,this.xOldOffset=this.xOffset,this.yOldOffset=this.yOffset,this.scale=2/this.width,this.minScale=this.width/(b.viewportWidth*b.viewportWidth),this.maxScale=2,this.drag=!1,this.canvas.onmousedown=function(a){return p.drag=!0,p.xOldOffset=p.xOffset,p.yOldOffset=p.yOffset,p.xMouseDown=a.clientX,p.yMouseDown=a.clientY},this.canvas.onmouseup=function(a){var b,c;return p.drag=!1,p.xMouseDown==null?null:(b=a.clientX-p.xMouseDown,c=a.clientY-p.yMouseDown,p.xOffset=p.xOldOffset+b/p.canvas.width/p.scale*2,p.yOffset=p.yOldOffset-c/p.canvas.height/p.scale*2,p.drawScene())},this.canvas.onmousemove=function(a){var b,c,d,e,f;if(p.band==null)return;d=-1*(p.canvas.width/2-a.offsetX)/p.canvas.width/p.scale*2,f=(p.canvas.height/2-a.offsetY)/p.canvas.height/p.scale*2,c=-1*(p.xOffset+.5)+d+.5<<0,e=-1*(p.yOffset+.5)+f+.5<<0,$(".subject-info .xy.value").html(""+c+", "+e),b=p.images[p.band].getDataUnit().getPixel(c,e),b!=null&&$(".subject-info .intensity.value").html(b.toFixed(5));if(!p.drag)return;return d=a.clientX-p.xMouseDown,f=a.clientY-p.yMouseDown,p.xOffset=p.xOldOffset+d/p.canvas.width/p.scale*2,p.yOffset=p.yOldOffset-f/p.canvas.height/p.scale*2,p.drawScene()},this.canvas.onmouseout=function(a){return p.drag=!1},this.canvas.onmouseover=function(a){return p.drag=!1},this.canvas.addEventListener("mousewheel",this.wheelHandler,!1),this.canvas.addEventListener("DOMMouseScroll",this.wheelHandler,!1)},b.prototype.setRectangle=function(a,b,c,d){var e,f,g,h,i,j;return i=[a,a+c],e=i[0],f=i[1],j=[b,b+d],g=j[0],h=j[1],this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([e,g,f,g,e,h,e,h,f,g,f,h]),this.gl.STATIC_DRAW)},b.prototype.drawScene=function(){var a,b,c;return $("#examine .subject img").hide(),b=this.gl.getUniformLocation(this.program,"u_offset"),c=this.gl.getUniformLocation(this.program,"u_scale"),a=this.gl.getUniformLocation(this.program,"u_extremes"),this.gl.uniform2f(b,this.xOffset,this.yOffset),this.gl.uniform1f(c,this.scale),this.gl.uniform2f(a,this.currentMin,this.currentMax),this.setRectangle(0,0,this.width,this.height),this.gl.drawArrays(this.gl.TRIANGLES,0,6)},b.prototype.selectBand=function(a){var c,d,e,f,g,h=this;return $(".webgl-fits").show(),this.band=a.currentTarget.value,this.band==="color"?($(".subject .name").show(),this.band=null,$(".subject-info .xy.value").empty(),$(".subject-info .intensity.value").empty(),null):(d=this.images[this.band].getDataUnit(),e=this.percentiles[this.band],g=(f=this.percentiles[this.band],this.currentMin=f[0],this.currentMax=f[1],f),this.minimum=g[0],this.maximum=g[1],c=this.textures[this.band],this.gl.activeTexture(this.gl[c]),this.drawScene(),this.histogram=$.plot($("#plots .histogram"),[{color:"#002332",data:this.histograms[this.band]}],b.setHistogramOptions(this.minimum,this.maximum)),this.drawMarkers([this.minimum,this.maximum]),function(){var a,c,d;return h.slider=$(".slider"),c=h.histogram.width(),a=h.histogram.getPlotOffset().left,h.slider.css("width",""+c+"px"),h.slider.css("margin-left",""+a+"px"),d={range:!0,min:h.minimum,max:h.maximum,values:[h.minimum,h.maximum],step:(h.maximum-h.minimum)/b.bins,slide:function(a,b){var c;return c=b.values,h.currentMin=c[0],h.currentMax=c[1],h.drawMarkers(c),h.drawScene()}},h.slider.slider(d)}())},b.prototype.selectStretch=function(a){var b;return b=a.currentTarget.value,this.program=this.programs[b],this.gl.useProgram(this.program),this.drawScene()},b.prototype.wheelHandler=function(a){var b;return a.preventDefault(),a.stopPropagation(),b=a.shiftKey?1.01:1.1,this.scale*=(a.detail||a.wheelDelta)<0?b:1/b,this.scale=this.scale>this.maxScale?this.maxScale:this.scale,this.scale=this.scale<this.minScale?this.minScale:this.scale,this.drawScene()},b.setHistogramOptions=function(a,b){var c;return c={xaxis:{min:a,max:b,axisLabel:"value",axisLabelUseCanvas:!1,axisLabelFontSizePixels:12},yaxis:{axisLabel:"count",axisLabelUseCanvas:!1,axisLabelFontSizePixels:12},lines:{show:!0,fill:!0,fillColor:"#002332",lineWidth:1}},c},b.prototype.drawMarkers=function(a){var b,c,d;return c=this.histogram.getPlotOffset(),b=.002*(this.maximum-this.minimum),d={grid:{borderWidth:0,aboveData:!0,margin:{left:c.left,right:c.right,top:c.top,bottom:c.bottom},markings:[{color:"rgba(193, 234, 0, 1)",lineWidth:.5,xaxis:{from:a[0]-b-3*b,to:a[0]+b-3*b}},{color:"rgba(193, 234, 0, 1)",lineWidth:.5,xaxis:{from:a[1]-b-3*b,to:a[1]+b-3*b}}]},xaxis:{min:this.minimum,max:this.maximum,show:!1},yaxis:{show:!1}},this.markers=$.plot($("#plots .markers"),[{color:"#002332",data:[]}],d)},b.prototype.teardown=function(){var a,b,c,d,e,f,g,h;this.slider!=null&&this.slider.hasOwnProperty("destroy")&&this.slider.destroy(),$("#plots .histogram").empty(),$("#plots .markers").empty(),this.destroyStretchButtons(),this.destroyBandButtons(),this.destroyMetadata(),window.removeEventListener("message",this.receiveFITS,!1),this.stds={},this.means={},this.histograms={},this.images={},g=this.texture;for(a in g)d=g[a],this.gl.deleteTexture(d);this.textures={},this.textureCount=0;if(this.programs!=null){h=this.programs;for(e=0,f=h.length;e<f;e++)c=h[e],this.gl.deleteProgram(c)}this.width=null,this.height=null,this.gl=null,this.ext=null,this.vertexShader=null,this.programs=null,this.program=null,b=document.getElementById("webgl-fits");if(b)return b.parentNode.removeChild(b)},b}(Spine.Controller),c.exports=a})).call(this)},"lib/jquery-ui-1.9.1.custom":function(a,b,c){(function(a,b){function e(b,c){var d,e,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,e=d.name,!b.href||!e||d.nodeName.toLowerCase()!=="map"?!1:(g=a("img[usemap=#"+e+"]")[0],!!g&&f(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&f(b)}function f(b){return a.expr.filters.visible(b)&&!a(b).parents().andSelf().filter(function(){return a.css(this,"visibility")==="hidden"}).length}var c=0,d=/^ui-id-\d+$/;a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})},removeUniqueId:function(){return this.each(function(){d.test(this.id)&&a(this).removeAttr("id")})}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return e(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),d=isNaN(c);return(d||c>=0)&&e(b,!d)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),function(){var b=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];a.ui.ie=b.length?!0:!1,a.ui.ie6=parseFloat(b[1],10)===6}(),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(!e||!a.element[0].parentNode||a.element[0].parentNode.nodeType===11)return;for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},contains:a.contains,hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c=0,d;(d=b[c])!=null;c++)try{a(d).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i=b.split(".")[0];b=b.split(".")[1],e=i+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[i]=a[i]||{},f=a[i][b],g=a[i][b]=function(a,b){if(!this._createWidget)return new g(a,b);arguments.length&&this._createWidget(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,e){a.isFunction(e)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,f;return this._super=a,this._superApply=d,f=e.apply(this,arguments),this._super=b,this._superApply=c,f}}())}),g.prototype=a.widget.extend(h,{widgetEventPrefix:h.widgetEventPrefix||b},d,{constructor:g,namespace:i,widgetName:b,widgetBaseClass:e,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){var e=d.call(arguments,1),f=0,g=e.length,h,i;for(;f<g;f++)for(h in e[f])i=e[f][h],e[f].hasOwnProperty(h)&&i!==b&&(a.isPlainObject(i)?c[h]=a.isPlainObject(c[h])?a.widget.extend({},c[h],i):a.widget.extend({},i):c[h]=i);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName;a.fn[c]=function(g){var h=typeof g=="string",i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);if(!e)return a.error("cannot call methods on "+c+" prior to initialization; "+"attempted to call method '"+g+"'");if(!a.isFunction(e[g])||g.charAt(0)==="_")return a.error("no such method '"+g+"' for "+c+" widget instance");d=e[g].apply(e,i);if(d!==e&&d!==b)return j=d&&d.jquery?j.pushStack(d.get()):d,!1}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():new e(g,this)}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetName,this),a.data(d,this.widgetFullName,this),this._on(this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e=c,f,g,h;if(arguments.length===0)return a.widget.extend({},this.options);if(typeof c=="string"){e={},f=c.split("."),c=f.shift();if(f.length){g=e[c]=a.widget.extend({},this.options[c]);for(h=0;h<f.length-1;h++)g[f[h]]=g[f[h]]||{},g=g[f[h]];c=f.pop();if(d===b)return g[c]===b?null:g[c];g[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];e[c]=d}}return this._setOptions(e),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c){var d,e=this;c?(b=d=a(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element,d=this.widget()),a.each(c,function(c,f){function g(){if(e.options.disabled===!0||a(this).hasClass("ui-state-disabled"))return;return(typeof f=="string"?e[f]:f).apply(e,arguments)}typeof f!="string"&&(g.guid=f.guid=f.guid||g.guid||a.guid++);var h=c.match(/^(\w+)\s*(.*)$/),i=h[1]+e.eventNamespace,j=h[2];j?d.delegate(j,i,g):b.bind(i,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return(typeof a=="string"?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){typeof e=="string"&&(e={effect:e});var g,h=e?e===!0||typeof e=="number"?c:e.effect||c:b;e=e||{},typeof e=="number"&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&(a.effects.effect[h]||a.uiBackCompat!==!1&&a.effects[h])?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.uiBackCompat!==!1&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(c)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which===1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0},_mouseMove:function(b){return!a.ui.ie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),function(a,b){function m(a,b,c){return[parseInt(a[0],10)*(k.test(a[0])?b/100:1),parseInt(a[1],10)*(k.test(a[1])?c/100:1)]}function n(b,c){return parseInt(a.css(b,c),10)||0}a.ui=a.ui||{};var c,d=Math.max,e=Math.abs,f=Math.round,g=/left|center|right/,h=/top|center|bottom/,i=/[\+\-]\d+%?/,j=/^\w+/,k=/%$/,l=a.fn.position;a.position={scrollbarWidth:function(){if(c!==b)return c;var d,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),d=g.offsetWidth,f.css("overflow","scroll"),e=g.offsetWidth,d===e&&(e=f[0].clientWidth),f.remove(),c=d-e},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e=c==="scroll"||c==="auto"&&b.width<b.element[0].scrollWidth,f=d==="scroll"||d==="auto"&&b.height<b.element[0].scrollHeight;return{width:e?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return l.apply(this,arguments);b=a.extend({},b);var c,k,o,p,q,r=a(b.of),s=a.position.getWithinInfo(b.within),t=a.position.getScrollInfo(s),u=r[0],v=(b.collision||"flip").split(" "),w={};return u.nodeType===9?(k=r.width(),o=r.height(),p={top:0,left:0}):a.isWindow(u)?(k=r.width(),o=r.height(),p={top:r.scrollTop(),left:r.scrollLeft()}):u.preventDefault?(b.at="left top",k=o=0,p={top:u.pageY,left:u.pageX}):(k=r.outerWidth(),o=r.outerHeight(),p=r.offset()),q=a.extend({},p),a.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,d;a.length===1&&(a=g.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]),a[0]=g.test(a[0])?a[0]:"center",a[1]=h.test(a[1])?a[1]:"center",c=i.exec(a[0]),d=i.exec(a[1]),w[this]=[c?c[0]:0,d?d[0]:0],b[this]=[j.exec(a[0])[0],j.exec(a[1])[0]]}),v.length===1&&(v[1]=v[0]),b.at[0]==="right"?q.left+=k:b.at[0]==="center"&&(q.left+=k/2),b.at[1]==="bottom"?q.top+=o:b.at[1]==="center"&&(q.top+=o/2),c=m(w.at,k,o),q.left+=c[0],q.top+=c[1],this.each(function(){var g,h,i=a(this),j=i.outerWidth(),l=i.outerHeight(),u=n(this,"marginLeft"),x=n(this,"marginTop"),y=j+u+n(this,"marginRight")+t.width,z=l+x+n(this,"marginBottom")+t.height,A=a.extend({},q),B=m(w.my,i.outerWidth(),i.outerHeight());b.my[0]==="right"?A.left-=j:b.my[0]==="center"&&(A.left-=j/2),b.my[1]==="bottom"?A.top-=l:b.my[1]==="center"&&(A.top-=l/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=f(A.left),A.top=f(A.top)),g={marginLeft:u,marginTop:x},a.each(["left","top"],function(d,e){a.ui.position[v[d]]&&a.ui.position[v[d]][e](A,{targetWidth:k,targetHeight:o,elemWidth:j,elemHeight:l,collisionPosition:g,collisionWidth:y,collisionHeight:z,offset:[c[0]+B[0],c[1]+B[1]],my:b.my,at:b.at,within:s,elem:i})}),a.fn.bgiframe&&i.bgiframe(),b.using&&(h=function(a){var c=p.left-A.left,f=c+k-j,g=p.top-A.top,h=g+o-l,m={target:{element:r,left:p.left,top:p.top,width:k,height:o},element:{element:i,left:A.left,top:A.top,width:j,height:l},horizontal:f<0?"left":c>0?"right":"center",vertical:h<0?"top":g>0?"bottom":"middle"};k<j&&e(c+f)<k&&(m.horizontal="center"),o<l&&e(g+h)<o&&(m.vertical="middle"),d(e(c),e(f))>d(e(g),e(h))?m.important="horizontal":m.important="vertical",b.using.call(this,a,m)}),i.offset(a.extend(A,{using:h}))})},a.ui.position={fit:{left:function(a,b){var c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft,h=e-g,i=g+b.collisionWidth-f-e,j;b.collisionWidth>f?h>0&&i<=0?(j=a.left+h+b.collisionWidth-f-e,a.left+=h-j):i>0&&h<=0?a.left=e:h>i?a.left=e+f-b.collisionWidth:a.left=e:h>0?a.left+=h:i>0?a.left-=i:a.left=d(a.left-g,a.left)},top:function(a,b){var c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,h=e-g,i=g+b.collisionHeight-f-e,j;b.collisionHeight>f?h>0&&i<=0?(j=a.top+h+b.collisionHeight-f-e,a.top+=h-j):i>0&&h<=0?a.top=e:h>i?a.top=e+f-b.collisionHeight:a.top=e:h>0?a.top+=h:i>0?a.top-=i:a.top=d(a.top-g,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,i=h-g,j=h+b.collisionWidth-f-g,k=b.my[0]==="left"?-b.elemWidth:b.my[0]==="right"?b.elemWidth:0,l=b.at[0]==="left"?b.targetWidth:b.at[0]==="right"?-b.targetWidth:0,m=-2*b.offset[0],n,o;if(i<0){n=a.left+k+l+m+b.collisionWidth-f-d;if(n<0||n<e(i))a.left+=k+l+m}else if(j>0){o=a.left-b.collisionPosition.marginLeft+k+l+m-g;if(o>0||e(o)<j)a.left+=k+l+m}},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,f=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,i=h-g,j=h+b.collisionHeight-f-g,k=b.my[1]==="top",l=k?-b.elemHeight:b.my[1]==="bottom"?b.elemHeight:0,m=b.at[1]==="top"?b.targetHeight:b.at[1]==="bottom"?-b.targetHeight:0,n=-2*b.offset[1],o,p;i<0?(p=a.top+l+m+n+b.collisionHeight-f-d,a.top+l+m+n>i&&(p<0||p<e(i))&&(a.top+=l+m+n)):j>0&&(o=a.top-b.collisionPosition.marginTop+l+m+n-g,a.top+l+m+n>j&&(o>0||e(o)<j)&&(a.top+=l+m+n))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&e<11,b.innerHTML="",c.removeChild(b)}(),a.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(d){if(!d||!d.offset)return c.call(this,d);var e=d.offset.split(" "),f=d.at.split(" ");return e.length===1&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),f.length===1&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),c.call(this,a.extend(d,{at:f[0]+e[0]+" "+f[1]+e[1],offset:b}))}}(jQuery)}(jQuery),function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{version:"1.9.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b,d,e=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(e.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),e.range&&(e.range===!0&&(e.values||(e.values=[this._valueMin(),this._valueMin()]),e.values.length&&e.values.length!==2&&(e.values=[e.values[0],e.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(e.range==="min"||e.range==="max"?" ui-slider-range-"+e.range:""))),d=e.values&&e.values.length||1;for(b=f.length;b<d;b++)h.push(g);this.handles=f.add(a(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).mouseenter(function(){e.disabled||a(this).addClass("ui-state-hover")}).mouseleave(function(){a(this).removeClass("ui-state-hover")}).focus(function(){e.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)}),this._on(this.handles,{keydown:function(b){var d,e,f,g,h=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:b.preventDefault();if(!this._keySliding){this._keySliding=!0,a(b.target).addClass("ui-state-active"),d=this._start(b,h);if(d===!1)return}}g=this.options.step,this.options.values&&this.options.values.length?e=f=this.values(h):e=f=this.value();switch(b.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(b,h,f)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));e>c&&(e=c,f=a(this),g=b)}),l.range===!0&&this.values(1)===l.min&&(g+=1,f=a(this.handles[g])),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return this.orientation==="horizontal"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),this.orientation==="vertical"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);return}if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b),b;c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return Math.abs(c)*2>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k[i.orientation==="horizontal"?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&(i.orientation==="horizontal"?(d===0&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),d===1&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(d===0&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),d===1&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k[this.orientation==="horizontal"?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),g==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),g==="max"&&this.orientation==="horizontal"&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),g==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),g==="max"&&this.orientation==="vertical"&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))}})}(jQuery)},"lib/jquery.flot.axislabels":function(a,b,c){(function(a){function c(b){var c=!1;b.hooks.draw.push(function(b,d){c?(a.each(b.getAxes(),function(c,d){var e=d.options||b.getOptions()[c];if(!e||!e.axisLabel)return;if(e.axisLabelUseCanvas){var f=b.getCanvas().getContext("2d");f.save(),f.font=e.axisLabelFontSizePixels+"px "+e.axisLabelFontFamily;var g=f.measureText(e.axisLabel).width,h=e.axisLabelFontSizePixels,i,j;c.charAt(0)=="x"?(i=b.getPlotOffset().left+b.width()/2-g/2,j=b.getCanvas().height):(i=h*.72,j=b.getPlotOffset().top+b.height()/2-g/2),f.translate(i,j),f.rotate(c.charAt(0)=="x"?0:-Math.PI/2),f.fillText(e.axisLabel,0,0),f.restore()}else{b.getPlaceholder().find("#"+c+"Label").remove();var k=a('<div class="axisLabel '+c+'" '+'style="position:absolute;">'+e.axisLabel+"</div>");c.charAt(0)=="x"?(k.css("left",b.getPlotOffset().left+b.width()/2-k.outerWidth()/2-18.5+"px"),k.css("bottom","0px")):(k.css("top",b.getPlotOffset().top+b.height()/2-k.outerHeight()/2+"px"),k.css("left","0px")),b.getPlaceholder().append(k)}}),c=!1):(a.each(b.getAxes(),function(c,d){var e=d.options||b.getOptions()[c];if(!e||!e.axisLabel)return;var f,g;e.axisLabelUseCanvas!=0&&(e.axisLabelUseCanvas=!0);if(e.axisLabelUseCanvas)e.axisLabelFontSizePixels||(e.axisLabelFontSizePixels=14),e.axisLabelFontFamily||(e.axisLabelFontFamily="sans-serif"),f=e.axisLabelFontSizePixels,g=e.axisLabelFontSizePixels;else{var h=a('<div class="axisLabels" style="position:absolute;">'+e.axisLabel+"</div>");b.getPlaceholder().append(h),f=h.outerWidth(!0),g=h.outerHeight(!0),h.remove()}c.charAt(0)=="x"?d.labelHeight+=g:d.labelWidth+=f,e.labelHeight=d.labelHeight,e.labelWidth=d.labelWidth}),c=!0,b.setupGrid(),b.draw())})}var b={};a.plot.plugins.push({init:c,options:b,name:"axisLabels",version:"1.0"})})(jQuery)},"lib/jquery.flot":function(a,b,c){(function(a){a.color={},a.color.make=function(b,c,d,e){var f={};return f.r=b||0,f.g=c||0,f.b=d||0,f.a=e!=null?e:1,f.add=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]+=b;return f.normalize()},f.scale=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]*=b;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function a(a,b,c){return b<a?a:b>c?c:b}return f.r=a(0,parseInt(f.r),255),f.g=a(0,parseInt(f.g),255),f.b=a(0,parseInt(f.b),255),f.a=a(0,f.a,1),f},f.clone=function(){return a.color.make(f.r,f.b,f.g,f.a)},f.normalize()},a.color.extract=function(b,c){var d;do{d=b.css(c).toLowerCase();if(d!=""&&d!="transparent")break;b=b.parent()}while(!a.nodeName(b.get(0),"body"));return d=="rgba(0, 0, 0, 0)"&&(d="transparent"),a.color.parse(d)},a.color.parse=function(c){var d,e=a.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return e(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55);if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55,parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return e(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return e(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));var f=a.trim(c).toLowerCase();return f=="transparent"?e(255,255,255,0):(d=b[f]||[0,0,0],e(d[0],d[1],d[2]))};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(a){function b(b,d,e,f){function w(a,b){b=[v].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function x(){for(var b=0;b<f.length;++b){var c=f[b];c.init(v),c.options&&a.extend(!0,h,c.options)}}function y(b){var c;a.extend(!0,h,b),h.xaxis.color==null&&(h.xaxis.color=h.grid.color),h.yaxis.color==null&&(h.yaxis.color=h.grid.color),h.xaxis.tickColor==null&&(h.xaxis.tickColor=h.grid.tickColor),h.yaxis.tickColor==null&&(h.yaxis.tickColor=h.grid.tickColor),h.grid.borderColor==null&&(h.grid.borderColor=h.grid.color),h.grid.tickColor==null&&(h.grid.tickColor=a.color.parse(h.grid.color).scale("a",.22).toString());for(c=0;c<Math.max(1,h.xaxes.length);++c)h.xaxes[c]=a.extend(!0,{},h.xaxis,h.xaxes[c]);for(c=0;c<Math.max(1,h.yaxes.length);++c)h.yaxes[c]=a.extend(!0,{},h.yaxis,h.yaxes[c]);h.xaxis.noTicks&&h.xaxis.ticks==null&&(h.xaxis.ticks=h.xaxis.noTicks),h.yaxis.noTicks&&h.yaxis.ticks==null&&(h.yaxis.ticks=h.yaxis.noTicks),h.x2axis&&(h.xaxes[1]=a.extend(!0,{},h.xaxis,h.x2axis),h.xaxes[1].position="top"),h.y2axis&&(h.yaxes[1]=a.extend(!0,{},h.yaxis,h.y2axis),h.yaxes[1].position="right"),h.grid.coloredAreas&&(h.grid.markings=h.grid.coloredAreas),h.grid.coloredAreasColor&&(h.grid.markingsColor=h.grid.coloredAreasColor),h.lines&&a.extend(!0,h.series.lines,h.lines),h.points&&a.extend(!0,h.series.points,h.points),h.bars&&a.extend(!0,h.series.bars,h.bars),h.shadowSize!=null&&(h.series.shadowSize=h.shadowSize),h.highlightColor!=null&&(h.series.highlightColor=h.highlightColor);for(c=0;c<h.xaxes.length;++c)F(n,c+1).options=h.xaxes[c];for(c=0;c<h.yaxes.length;++c)F(o,c+1).options=h.yaxes[c];for(var d in u)h.hooks[d]&&h.hooks[d].length&&(u[d]=u[d].concat(h.hooks[d]));w(u.processOptions,[h])}function z(a){g=A(a),G(),H()}function A(b){var c=[];for(var d=0;d<b.length;++d){var e=a.extend(!0,{},h.series);b[d].data!=null?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function B(a,b){var c=a[b+"axis"];return typeof c=="object"&&(c=c.n),typeof c!="number"&&(c=1),c}function C(){return a.grep(n.concat(o),function(a){return a})}function D(a){var b={},c,d;for(c=0;c<n.length;++c)d=n[c],d&&d.used&&(b["x"+d.n]=d.c2p(a.left));for(c=0;c<o.length;++c)d=o[c],d&&d.used&&(b["y"+d.n]=d.c2p(a.top));return b.x1!==undefined&&(b.x=b.x1),b.y1!==undefined&&(b.y=b.y1),b}function E(a){var b={},c,d,e;for(c=0;c<n.length;++c){d=n[c];if(d&&d.used){e="x"+d.n,a[e]==null&&d.n==1&&(e="x");if(a[e]!=null){b.left=d.p2c(a[e]);break}}}for(c=0;c<o.length;++c){d=o[c];if(d&&d.used){e="y"+d.n,a[e]==null&&d.n==1&&(e="y");if(a[e]!=null){b.top=d.p2c(a[e]);break}}}return b}function F(b,c){return b[c-1]||(b[c-1]={n:c,direction:b==n?"x":"y",options:a.extend(!0,{},b==n?h.xaxis:h.yaxis)}),b[c-1]}function G(){var b=g.length,c=0,d;for(d=0;d<g.length;++d){var e=g[d].color;e!=null&&(b--,typeof e=="number"&&e>c&&(c=e))}c>b&&(b=c+1);var f,i=[],j=h.colors,k=j.length,l=0;for(d=0;d<b;d++)f=a.color.parse(j[d%k]||"#666"),d%k==0&&d&&(l>=0?l<.5?l=-l-.2:l=0:l=-l),i[d]=f.scale("rgb",1+l);var m=0,p;for(d=0;d<g.length;++d){p=g[d],p.color==null?(p.color=i[m].toString(),++m):typeof p.color=="number"&&(p.color=i[p.color].toString());if(p.lines.show==null){var q,r=!0;for(q in p)if(p[q]&&p[q].show){r=!1;break}r&&(p.lines.show=!0)}p.xaxis=F(n,B(p,"x")),p.yaxis=F(o,B(p,"y"))}}function H(){function t(a,b,c){b<a.datamin&&b!=-d&&(a.datamin=b),c>a.datamax&&c!=d&&(a.datamax=c)}var b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=Number.MAX_VALUE,e,f,h,i,j,k,l,m,n,o,p,q,r,s;a.each(C(),function(a,d){d.datamin=b,d.datamax=c,d.used=!1});for(e=0;e<g.length;++e)k=g[e],k.datapoints={points:[]},w(u.processRawData,[k,k.data,k.datapoints]);for(e=0;e<g.length;++e){k=g[e];var v=k.data,x=k.datapoints.format;if(!x){x=[],x.push({x:!0,number:!0,required:!0}),x.push({y:!0,number:!0,required:!0});if(k.bars.show||k.lines.show&&k.lines.fill)x.push({y:!0,number:!0,required:!1,defaultValue:0}),k.bars.horizontal&&(delete x[x.length-1].y,x[x.length-1].x=!0);k.datapoints.format=x}if(k.datapoints.pointsize!=null)continue;k.datapoints.pointsize=x.length,m=k.datapoints.pointsize,l=k.datapoints.points,insertSteps=k.lines.show&&k.lines.steps,k.xaxis.used=k.yaxis.used=!0;for(f=h=0;f<v.length;++f,h+=m){s=v[f];var y=s==null;if(!y)for(i=0;i<m;++i)q=s[i],r=x[i],r&&(r.number&&q!=null&&(q=+q,isNaN(q)?q=null:q==Infinity?q=d:q==-Infinity&&(q=-d)),q==null&&(r.required&&(y=!0),r.defaultValue!=null&&(q=r.defaultValue))),l[h+i]=q;if(y)for(i=0;i<m;++i)q=l[h+i],q!=null&&(r=x[i],r.x&&t(k.xaxis,q,q),r.y&&t(k.yaxis,q,q)),l[h+i]=null;else if(insertSteps&&h>0&&l[h-m]!=null&&l[h-m]!=l[h]&&l[h-m+1]!=l[h+1]){for(i=0;i<m;++i)l[h+m+i]=l[h+i];l[h+1]=l[h-m+1],h+=m}}}for(e=0;e<g.length;++e)k=g[e],w(u.processDatapoints,[k,k.datapoints]);for(e=0;e<g.length;++e){k=g[e],l=k.datapoints.points,m=k.datapoints.pointsize,x=k.datapoints.format;var z=b,A=b,B=c,D=c;for(f=0;f<l.length;f+=m){if(l[f]==null)continue;for(i=0;i<m;++i){q=l[f+i],r=x[i];if(!r||q==d||q==-d)continue;r.x&&(q<z&&(z=q),q>B&&(B=q)),r.y&&(q<A&&(A=q),q>D&&(D=q))}}if(k.bars.show){var E;switch(k.bars.align){case"left":E=0;break;case"right":E=-k.bars.barWidth;break;case"center":E=-k.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+k.bars.align)}k.bars.horizontal?(A+=E,D+=E+k.bars.barWidth):(z+=E,B+=E+k.bars.barWidth)}t(k.xaxis,z,B),t(k.yaxis,A,D)}a.each(C(),function(a,d){d.datamin==b&&(d.datamin=null),d.datamax==c&&(d.datamax=null)})}function I(a){return window.devicePixelRatio>1&&(a.webkitBackingStorePixelRatio===undefined||a.webkitBackingStorePixelRatio<2)?window.devicePixelRatio:1}function J(c,d){var e=document.createElement("canvas");e.className=d,c||a(e).css({position:"absolute",left:0,top:0}),a(e).appendTo(b),e.getContext||(e=window.G_vmlCanvasManager.initElement(e));var f=e.getContext("2d"),g=I(f);return e.width=q*g,e.height=r*g,e.style.width=q+"px",e.style.height=r+"px",f.save(),f.scale(g,g),e}function K(){q=b.width(),r=b.height();if(q<=0||r<=0)throw new Error("Invalid dimensions for plot, width = "+q+", height = "+r)}function L(a){var b=a.getContext("2d"),c=I(b);a.style.width!=q&&(a.width=q*c,a.style.width=q+"px"),a.style.height!=r&&(a.height=r*c,a.style.height=r+"px"),b.restore(),b.save(),b.scale(c,c)}function M(){var c,d=b.children("canvas.flot-base"),e=b.children("canvas.flot-overlay");d.length==0||e==0?(b.html(""),b.css({padding:0}),b.css("position")=="static"&&b.css("position","relative"),K(),i=J(!0,"flot-base"),j=J(!1,"flot-overlay"),c=!1):(i=d.get(0),j=e.get(0),c=!0),l=i.getContext("2d"),m=j.getContext("2d"),k=a(j),c&&(b.data("plot").shutdown(),v.resize(),m.clearRect(0,0,q,r),k.unbind(),b.children().not([i,j]).remove()),b.data("plot",v)}function N(){h.grid.hoverable&&(k.mousemove(bn),k.mouseleave(bo)),h.grid.clickable&&k.click(bp),w(u.bindEvents,[k])}function O(){bl&&clearTimeout(bl),k.unbind("mousemove",bn),k.unbind("mouseleave",bo),k.unbind("click",bp),w(u.shutdown,[k])}function P(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;a.direction=="x"?(c=a.scale=s/Math.abs(e(a.max)-e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=t/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min))),e==b?a.p2c=function(a){return(a-d)*c}:a.p2c=function(a){return(e(a)-d)*c},f?a.c2p=function(a){return f(d+a/c)}:a.c2p=function(a){return d+a/c}}function Q(a){var b=a.options,c=a.ticks||[],d=b.labelWidth||0,e=b.labelHeight||0,f=a.font;l.save(),l.font=f.style+" "+f.variant+" "+f.weight+" "+f.size+"px '"+f.family+"'";for(var g=0;g<c.length;++g){var h=c[g];h.lines=[],h.width=h.height=0;if(!h.label)continue;var i=(h.label+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n");for(var j=0;j<i.length;++j){var k={text:i[j]},m=l.measureText(k.text);k.width=m.width,k.height=m.height!=null?m.height:f.size,k.height+=Math.round(f.size*.15),h.width=Math.max(k.width,h.width),h.height+=k.height,h.lines.push(k)}b.labelWidth==null&&(d=Math.max(d,h.width)),b.labelHeight==null&&(e=Math.max(e,h.height))}l.restore(),a.labelWidth=Math.ceil(d),a.labelHeight=Math.ceil(e)}function R(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,f=b.options.tickLength,g=h.grid.axisMargin,i=h.grid.labelMargin,j=b.direction=="x"?n:o,k,l=a.grep(j,function(a){return a&&a.options.position==e&&a.reserveSpace});a.inArray(b,l)==l.length-1&&(g=0);if(f==null){var m=a.grep(j,function(a){return a&&a.reserveSpace}),s=a.inArray(b,m)==0;s?f="full":f=5}isNaN(+f)||(i+=+f),b.direction=="x"?(d+=i,e=="bottom"?(p.bottom+=d+g,b.box={top:r-p.bottom,height:d}):(b.box={top:p.top+g,height:d},p.top+=d+g)):(c+=i,e=="left"?(b.box={left:p.left+g,width:c},p.left+=c+g):(p.right+=c+g,b.box={left:q-p.right,width:c})),b.position=e,b.tickLength=f,b.box.padding=i,b.innermost=s}function S(a){a.direction=="x"?(a.box.left=p.left-a.labelWidth/2,a.box.width=q-p.left-p.right+a.labelWidth):(a.box.top=p.top-a.labelHeight/2,a.box.height=r-p.bottom-p.top+a.labelHeight)}function T(){var b=h.grid.minBorderMargin,c={x:0,y:0},d,e;if(b==null){b=0;for(d=0;d<g.length;++d)b=Math.max(b,2*(g[d].points.radius+g[d].points.lineWidth/2))}c.x=c.y=Math.ceil(b),a.each(C(),function(a,b){var d=b.direction;b.reserveSpace&&(c[d]=Math.ceil(Math.max(c[d],(d=="x"?b.labelWidth:b.labelHeight)/2)))}),p.left=Math.max(c.x,p.left),p.right=Math.max(c.x,p.right),p.top=Math.max(c.y,p.top),p.bottom=Math.max(c.y,p.bottom)}function U(){var c,d=C(),e=h.grid.show;for(var f in p){var g=h.grid.margin||0;p[f]=typeof g=="number"?g:g[f]||0}w(u.processOffset,[p]);for(var f in p)p[f]+=e?h.grid.borderWidth:0;a.each(d,function(a,b){b.show=b.options.show,b.show==null&&(b.show=b.used),b.reserveSpace=b.show||b.options.reserveSpace,V(b)});if(e){var i={style:b.css("font-style"),size:Math.round(.8*(+b.css("font-size").replace("px","")||13)),variant:b.css("font-variant"),weight:b.css("font-weight"),family:b.css("font-family")},j=a.grep(d,function(a){return a.reserveSpace});a.each(j,function(b,c){W(c),X(c),Y(c,c.ticks),c.font=a.extend({},i,c.options.font),Q(c)});for(c=j.length-1;c>=0;--c)R(j[c]);T(),a.each(j,function(a,b){S(b)})}s=q-p.left-p.right,t=r-p.bottom-p.top,a.each(d,function(a,b){P(b)}),bj()}function V(a){var b=a.options,c=+(b.min!=null?b.min:a.datamin),d=+(b.max!=null?b.max:a.datamax),e=d-c;if(e==0){var f=d==0?1:.01;b.min==null&&(c-=f);if(b.max==null||b.min!=null)d+=f}else{var g=b.autoscaleMargin;g!=null&&(b.min==null&&(c-=e*g,c<0&&a.datamin!=null&&a.datamin>=0&&(c=0)),b.max==null&&(d+=e*g,d>0&&a.datamax!=null&&a.datamax<=0&&(d=0)))}a.min=c,a.max=d}function W(b){var d=b.options,e;typeof d.ticks=="number"&&d.ticks>0?e=d.ticks:e=.3*Math.sqrt(b.direction=="x"?q:r),b.delta=(b.max-b.min)/e;if(d.mode=="time"&&!b.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(!b.tickGenerator){var f=d.tickDecimals,g=-Math.floor(Math.log(b.delta)/Math.LN10);f!=null&&g>f&&(g=f);var h=Math.pow(10,-g),i=b.delta/h,j;i<1.5?j=1:i<3?(j=2,i>2.25&&(f==null||g+1<=f)&&(j=2.5,++g)):i<7.5?j=5:j=10,j*=h,d.minTickSize!=null&&j<d.minTickSize&&(j=d.minTickSize),b.tickDecimals=Math.max(0,f!=null?f:g),b.tickSize=d.tickSize||j,b.tickGenerator=function(a){var b=[],d=c(a.min,a.tickSize),e=0,f=Number.NaN,g;do g=f,f=d+e*a.tickSize,b.push(f),++e;while(f<a.max&&f!=g);return b},b.tickFormatter=function(a,b){var c=Math.pow(10,b.tickDecimals);return""+Math.round(a*c)/c}}a.isFunction(d.tickFormatter)&&(b.tickFormatter=function(a,b){return""+d.tickFormatter(a,b)});if(d.alignTicksWithAxis!=null){var k=(b.direction=="x"?n:o)[d.alignTicksWithAxis-1];if(k&&k.used&&k!=b){var l=b.tickGenerator(b);l.length>0&&(d.min==null&&(b.min=Math.min(b.min,l[0])),d.max==null&&l.length>1&&(b.max=Math.max(b.max,l[l.length-1]))),b.tickGenerator=function(a){var b=[],c,d;for(d=0;d<k.ticks.length;++d)c=(k.ticks[d].v-k.min)/(k.max-k.min),c=a.min+c*(a.max-a.min),b.push(c);return b};if(!b.mode&&d.tickDecimals==null){var m=Math.max(0,-Math.floor(Math.log(b.delta)/Math.LN10)+1),p=b.tickGenerator(b);p.length>1&&/\..*0$/.test((p[1]-p[0]).toFixed(m))||(b.tickDecimals=m)}}}}function X(b){var c=b.options.ticks,d=[];c==null||typeof c=="number"&&c>0?d=b.tickGenerator(b):c&&(a.isFunction(c)?d=c(b):d=c);var e,f;b.ticks=[];for(e=0;e<d.length;++e){var g=null,h=d[e];typeof h=="object"?(f=+h[0],h.length>1&&(g=h[1])):f=+h,g==null&&(g=b.tickFormatter(f,b)),isNaN(f)||b.ticks.push({v:f,label:g})}}function Y(a,b){a.options.autoscaleMargin&&b.length>0&&(a.options.min==null&&(a.min=Math.min(a.min,b[0].v)),a.options.max==null&&b.length>1&&(a.max=Math.max(a.max,b[b.length-1].v)))}function Z(){l.clearRect(0,0,q,r),w(u.drawBackground,[l]);var a=h.grid;a.show&&a.backgroundColor&&ba(),a.show&&!a.aboveData&&(bb(),bc());for(var b=0;b<g.length;++b)w(u.drawSeries,[l,g[b]]),bd(g[b]);w(u.draw,[l]),a.show&&a.aboveData&&(bb(),bc())}function _(a,b){var c,d,e,f,g=C();for(var h=0;h<g.length;++h){c=g[h];if(c.direction==b){f=b+c.n+"axis",!a[f]&&c.n==1&&(f=b+"axis");if(a[f]){d=a[f].from,e=a[f].to;break}}}a[f]||(c=b=="x"?n[0]:o[0],d=a[b+"1"],e=a[b+"2"]);if(d!=null&&e!=null&&d>e){var i=d;d=e,e=i}return{from:d,to:e,axis:c}}function ba(){l.save(),l.translate(p.left,p.top),l.fillStyle=by(h.grid.backgroundColor,t,0,"rgba(255, 255, 255, 0)"),l.fillRect(0,0,s,t),l.restore()}function bb(){var b;l.save(),l.translate(p.left,p.top);var c=h.grid.markings;if(c){if(a.isFunction(c)){var d=v.getAxes();d.xmin=d.xaxis.min,d.xmax=d.xaxis.max,d.ymin=d.yaxis.min,d.ymax=d.yaxis.max,c=c(d)}for(b=0;b<c.length;++b){var e=c[b],f=_(e,"x"),g=_(e,"y");f.from==null&&(f.from=f.axis.min),f.to==null&&(f.to=f.axis.max),g.from==null&&(g.from=g.axis.min),g.to==null&&(g.to=g.axis.max);if(f.to<f.axis.min||f.from>f.axis.max||g.to<g.axis.min||g.from>g.axis.max)continue;f.from=Math.max(f.from,f.axis.min),f.to=Math.min(f.to,f.axis.max),g.from=Math.max(g.from,g.axis.min),g.to=Math.min(g.to,g.axis.max);if(f.from==f.to&&g.from==g.to)continue;f.from=f.axis.p2c(f.from),f.to=f.axis.p2c(f.to),g.from=g.axis.p2c(g.from),g.to=g.axis.p2c(g.to),f.from==f.to||g.from==g.to?(l.beginPath(),l.strokeStyle=e.color||h.grid.markingsColor,l.lineWidth=e.lineWidth||h.grid.markingsLineWidth,l.moveTo(f.from,g.from),l.lineTo(f.to,g.to),l.stroke()):(l.fillStyle=e.color||h.grid.markingsColor,l.fillRect(f.from,g.to,f.to-f.from,g.from-g.to))}}var d=C(),i=h.grid.borderWidth;for(var j=0;j<d.length;++j){var k=d[j],m=k.box,n=k.tickLength,o,q,r,u;if(!k.show||k.ticks.length==0)continue;l.strokeStyle=k.options.tickColor||a.color.parse(k.options.color).scale("a",.22).toString(),l.lineWidth=1,k.direction=="x"?(o=0,n=="full"?q=k.position=="top"?0:t:q=m.top-p.top+(k.position=="top"?m.height:0)):(q=0,n=="full"?o=k.position=="left"?0:s:o=m.left-p.left+(k.position=="left"?m.width:0)),k.innermost||(l.beginPath(),r=u=0,k.direction=="x"?r=s:u=t,l.lineWidth==1&&(o=Math.floor(o)+.5,q=Math.floor(q)+.5),l.moveTo(o,q),l.lineTo(o+r,q+u),l.stroke()),l.beginPath();for(b=0;b<k.ticks.length;++b){var w=k.ticks[b].v;r=u=0;if(w<k.min||w>k.max||n=="full"&&i>0&&(w==k.min||w==k.max))continue;k.direction=="x"?(o=k.p2c(w),u=n=="full"?-t:n,k.position=="top"&&(u=-u)):(q=k.p2c(w),r=n=="full"?-s:n,k.position=="left"&&(r=-r)),l.lineWidth==1&&(k.direction=="x"?o=Math.floor(o)+.5:q=Math.floor(q)+.5),l.moveTo(o,q),l.lineTo(o+r,q+u)}l.stroke()}i&&(l.lineWidth=i,l.strokeStyle=h.grid.borderColor,l.strokeRect(-i/2,-i/2,s+i,t+i)),l.restore()}function bc(){l.save(),a.each(C(),function(b,c){if(!c.show||c.ticks.length==0)return;var d=c.box,e=c.font;l.fillStyle=c.options.color,l.font=e.style+" "+e.variant+" "+e.weight+" "+e.size+"px "+e.family,l.textAlign="start",l.textBaseline="middle";for(var f=0;f<c.ticks.length;++f){var g=c.ticks[f];if(!g.label||g.v<c.min||g.v>c.max)continue;var h,i,j=0,k;for(var m=0;m<g.lines.length;++m)k=g.lines[m],c.direction=="x"?(h=p.left+c.p2c(g.v)-k.width/2,c.position=="bottom"?i=d.top+d.padding:i=d.top+d.height-d.padding-g.height):(i=p.top+c.p2c(g.v)-g.height/2,c.position=="left"?h=d.left+d.width-d.padding-k.width:h=d.left+d.padding),i+=k.height/2+j,j+=k.height,a.browser.opera&&(h=Math.floor(h),i=Math.ceil(i-2)),l.fillText(k.text,h,i)}}),l.restore()}function bd(a){a.lines.show&&be(a),a.bars.show&&bh(a),a.points.show&&bf(a)}function be(a){function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;l.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],m=f[j-g+1],n=f[j],o=f[j+1];if(k==null||n==null)continue;if(m<=o&&m<e.min){if(o<e.min)continue;k=(e.min-m)/(o-m)*(n-k)+k,m=e.min}else if(o<=m&&o<e.min){if(m<e.min)continue;n=(e.min-m)/(o-m)*(n-k)+k,o=e.min}if(m>=o&&m>e.max){if(o>e.max)continue;k=(e.max-m)/(o-m)*(n-k)+k,m=e.max}else if(o>=m&&o>e.max){if(m>e.max)continue;n=(e.max-m)/(o-m)*(n-k)+k,o=e.max}if(k<=n&&k<d.min){if(n<d.min)continue;m=(d.min-k)/(n-k)*(o-m)+m,k=d.min}else if(n<=k&&n<d.min){if(k<d.min)continue;o=(d.min-k)/(n-k)*(o-m)+m,n=d.min}if(k>=n&&k>d.max){if(n>d.max)continue;m=(d.max-k)/(n-k)*(o-m)+m,k=d.max}else if(n>=k&&n>d.max){if(k>d.max)continue;o=(d.max-k)/(n-k)*(o-m)+m,n=d.max}(k!=h||m!=i)&&l.moveTo(d.p2c(k)+b,e.p2c(m)+c),h=n,i=o,l.lineTo(d.p2c(n)+b,e.p2c(o)+c)}l.stroke()}function c(a,b,c){var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g=0,h,i=!1,j=1,k=0,m=0;for(;;){if(e>0&&g>d.length+e)break;g+=e;var n=d[g-e],o=d[g-e+j],p=d[g],q=d[g+j];if(i){if(e>0&&n!=null&&p==null){m=g,e=-e,j=2;continue}if(e<0&&g==k+e){l.fill(),i=!1,e=-e,j=1,g=k=m+e;continue}}if(n==null||p==null)continue;if(n<=p&&n<b.min){if(p<b.min)continue;o=(b.min-n)/(p-n)*(q-o)+o,n=b.min}else if(p<=n&&p<b.min){if(n<b.min)continue;q=(b.min-n)/(p-n)*(q-o)+o,p=b.min}if(n>=p&&n>b.max){if(p>b.max)continue;o=(b.max-n)/(p-n)*(q-o)+o,n=b.max}else if(p>=n&&p>b.max){if(n>b.max)continue;q=(b.max-n)/(p-n)*(q-o)+o,p=b.max}i||(l.beginPath(),l.moveTo(b.p2c(n),c.p2c(f)),i=!0);if(o>=c.max&&q>=c.max){l.lineTo(b.p2c(n),c.p2c(c.max)),l.lineTo(b.p2c(p),c.p2c(c.max));continue}if(o<=c.min&&q<=c.min){l.lineTo(b.p2c(n),c.p2c(c.min)),l.lineTo(b.p2c(p),c.p2c(c.min));continue}var r=n,s=p;o<=q&&o<c.min&&q>=c.min?(n=(c.min-o)/(q-o)*(p-n)+n,o=c.min):q<=o&&q<c.min&&o>=c.min&&(p=(c.min-o)/(q-o)*(p-n)+n,q=c.min),o>=q&&o>c.max&&q<=c.max?(n=(c.max-o)/(q-o)*(p-n)+n,o=c.max):q>=o&&q>c.max&&o<=c.max&&(p=(c.max-o)/(q-o)*(p-n)+n,q=c.max),n!=r&&l.lineTo(b.p2c(r),c.p2c(o)),l.lineTo(b.p2c(n),c.p2c(o)),l.lineTo(b.p2c(p),c.p2c(q)),p!=s&&(l.lineTo(b.p2c(p),c.p2c(q)),l.lineTo(b.p2c(s),c.p2c(q)))}}l.save(),l.translate(p.left,p.top),l.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(d>0&&e>0){l.lineWidth=e,l.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),l.lineWidth=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}l.lineWidth=d,l.strokeStyle=a.color;var g=bi(a.lines,a.color,0,t);g&&(l.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),l.restore()}function bf(a){function b(a,b,c,d,e,f,g,h){var i=a.points,j=a.pointsize;for(var k=0;k<i.length;k+=j){var m=i[k],n=i[k+1];if(m==null||m<f.min||m>f.max||n<g.min||n>g.max)continue;l.beginPath(),m=f.p2c(m),n=g.p2c(n)+d,h=="circle"?l.arc(m,n,b,0,e?Math.PI:Math.PI*2,!1):h(l,m,n,b,e),l.closePath(),c&&(l.fillStyle=c,l.fill()),l.stroke()}}l.save(),l.translate(p.left,p.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;if(c>0&&d>0){var g=d/2;l.lineWidth=g,l.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,g+g/2,!0,a.xaxis,a.yaxis,f),l.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,g/2,!0,a.xaxis,a.yaxis,f)}l.lineWidth=c,l.strokeStyle=a.color,b(a.datapoints,e,bi(a.points,a.color),0,!1,a.xaxis,a.yaxis,f),l.restore()}function bg(a,b,c,d,e,f,g,h,i,j,k,l){var m,n,o,p,q,r,s,t,u;k?(t=r=s=!0,q=!1,m=c,n=a,p=b+d,o=b+e,n<m&&(u=n,n=m,m=u,q=!0,r=!1)):(q=r=s=!0,t=!1,m=a+d,n=a+e,o=c,p=b,p<o&&(u=p,p=o,o=u,t=!0,s=!1));if(n<h.min||m>h.max||p<i.min||o>i.max)return;m<h.min&&(m=h.min,q=!1),n>h.max&&(n=h.max,r=!1),o<i.min&&(o=i.min,t=!1),p>i.max&&(p=i.max,s=!1),m=h.p2c(m),o=i.p2c(o),n=h.p2c(n),p=i.p2c(p),g&&(j.beginPath(),j.moveTo(m,o),j.lineTo(m,p),j.lineTo(n,p),j.lineTo(n,o),j.fillStyle=g(o,p),j.fill()),l>0&&(q||r||s||t)&&(j.beginPath(),j.moveTo(m,o+f),q?j.lineTo(m,p+f):j.moveTo(m,p+f),s?j.lineTo(n,p+f):j.moveTo(n,p+f),r?j.lineTo(n,o+f):j.moveTo(n,o+f),t?j.lineTo(m,o+f):j.moveTo(m,o+f),j.stroke())}function bh(a){function b(b,c,d,e,f,g,h){var i=b.points,j=b.pointsize;for(var k=0;k<i.length;k+=j){if(i[k]==null)continue;bg(i[k],i[k+1],i[k+2],c,d,e,f,g,h,l,a.bars.horizontal,a.bars.lineWidth)}}l.save(),l.translate(p.left,p.top),l.lineWidth=a.bars.lineWidth,l.strokeStyle=a.color;var c;switch(a.bars.align){case"left":c=0;break;case"right":c=-a.bars.barWidth;break;case"center":c=-a.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+a.bars.align)}var d=a.bars.fill?function(b,c){return bi(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,0,d,a.xaxis,a.yaxis),l.restore()}function bi(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return by(b.fillColor,d,e,c);var g=a.color.parse(c);return g.a=typeof f=="number"?f:.4,g.normalize(),g.toString()}function bj(){b.find(".legend").remove();if(!h.legend.show)return;var c=[],d=[],e=!1,f=h.legend.labelFormatter,i,j;for(var k=0;k<g.length;++k)i=g[k],i.label&&(j=f?f(i.label,i):i.label,j&&d.push({label:j,color:i.color}));if(h.legend.sorted)if(a.isFunction(h.legend.sorted))d.sort(h.legend.sorted);else{var l=h.legend.sorted!="descending";d.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=l?1:-1})}for(var k=0;k<d.length;++k)entry=d[k],k%h.legend.noColumns==0&&(e&&c.push("</tr>"),c.push("<tr>"),e=!0),c.push('<td class="legendColorBox"><div style="border:1px solid '+h.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+entry.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+entry.label+"</td>");e&&c.push("</tr>");if(c.length==0)return;var m='<table style="font-size:smaller;color:'+h.grid.color+'">'+c.join("")+"</table>";if(h.legend.container!=null)a(h.legend.container).html(m);else{var n="",o=h.legend.position,q=h.legend.margin;q[0]==null&&(q=[q,q]),o.charAt(0)=="n"?n+="top:"+(q[1]+p.top)+"px;":o.charAt(0)=="s"&&(n+="bottom:"+(q[1]+p.bottom)+"px;"),o.charAt(1)=="e"?n+="right:"+(q[0]+p.right)+"px;":o.charAt(1)=="w"&&(n+="left:"+(q[0]+p.left)+"px;");var r=a('<div class="legend">'+m.replace('style="','style="position:absolute;'+n+";")+"</div>").appendTo(b);if(h.legend.backgroundOpacity!=0){var s=h.legend.backgroundColor;s==null&&(s=h.grid.backgroundColor,s&&typeof s=="string"?s=a.color.parse(s):s=a.color.extract(r,"background-color"),s.a=1,s=s.toString());var t=r.children();a('<div style="position:absolute;width:'+t.width()+"px;height:"+t.height()+"px;"+n+"background-color:"+s+';"> </div>').prependTo(r).css("opacity",h.legend.backgroundOpacity)}}}function bm(a,b,c){var d=h.grid.mouseActiveRadius,e=d*d+1,f=null,i=!1,j,k;for(j=g.length-1;j>=0;--j){if(!c(g[j]))continue;var l=g[j],m=l.xaxis,n=l.yaxis,o=l.datapoints.points,p=l.datapoints.pointsize,q=m.c2p(a),r=n.c2p(b),s=d/m.scale,t=d/n.scale;m.options.inverseTransform&&(s=Number.MAX_VALUE),n.options.inverseTransform&&(t=Number.MAX_VALUE);if(l.lines.show||l.points.show)for(k=0;k<o.length;k+=p){var u=o[k],v=o[k+1];if(u==null)continue;if(u-q>s||u-q<-s||v-r>t||v-r<-t)continue;var w=Math.abs(m.p2c(u)-a),x=Math.abs(n.p2c(v)-b),y=w*w+x*x;y<e&&(e=y,f=[j,k/p])}if(l.bars.show&&!f){var z=l.bars.align=="left"?0:-l.bars.barWidth/2,A=z+l.bars.barWidth;for(k=0;k<o.length;k+=p){var u=o[k],v=o[k+1],B=o[k+2];if(u==null)continue;if(g[j].bars.horizontal?q<=Math.max(B,u)&&q>=Math.min(B,u)&&r>=v+z&&r<=v+A:q>=u+z&&q<=u+A&&r>=Math.min(B,v)&&r<=Math.max(B,v))f=[j,k/p]}}}return f?(j=f[0],k=f[1],p=g[j].datapoints.pointsize,{datapoint:g[j].datapoints.points.slice(k*p,(k+1)*p),dataIndex:k,series:g[j],seriesIndex:j}):null}function bn(a){h.grid.hoverable&&bq("plothover",a,function(a){return a["hoverable"]!=0})}function bo(a){h.grid.hoverable&&bq("plothover",a,function(a){return!1})}function bp(a){bq("plotclick",a,function(a){return a["clickable"]!=0})}function bq(a,c,d){var e=k.offset(),f=c.pageX-e.left-p.left,g=c.pageY-e.top-p.top,i=D({left:f,top:g});i.pageX=c.pageX,i.pageY=c.pageY;var j=bm(f,g,d);j&&(j.pageX=parseInt(j.series.xaxis.p2c(j.datapoint[0])+e.left+p.left),j.pageY=parseInt(j.series.yaxis.p2c(j.datapoint[1])+e.top+p.top));if(h.grid.autoHighlight){for(var l=0;l<bk.length;++l){var m=bk[l];m.auto==a&&(!j||m.series!=j.series||m.point[0]!=j.datapoint[0]||m.point[1]!=j.datapoint[1])&&bu(m.series,m.point)}j&&bt(j.series,j.datapoint,a)}b.trigger(a,[i,j])}function br(){var a=h.interaction.redrawOverlayInterval;if(a==-1){bs();return}bl||(bl=setTimeout(bs,a))}function bs(){bl=null,m.save(),m.clearRect(0,0,q,r),m.translate(p.left,p.top);var a,b;for(a=0;a<bk.length;++a)b=bk[a],b.series.bars.show?bx(b.series,b.point):bw(b.series,b.point);m.restore(),w(u.drawOverlay,[m])}function bt(a,b,c){typeof a=="number"&&(a=g[a]);if(typeof b=="number"){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}var e=bv(a,b);e==-1?(bk.push({series:a,point:b,auto:c}),br()):c||(bk[e].auto=!1)}function bu(a,b){a==null&&b==null&&(bk=[],br()),typeof a=="number"&&(a=g[a]),typeof b=="number"&&(b=a.data[b]);var c=bv(a,b);c!=-1&&(bk.splice(c,1),br())}function bv(a,b){for(var c=0;c<bk.length;++c){var d=bk[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function bw(b,c){var d=c[0],e=c[1],f=b.xaxis,g=b.yaxis;highlightColor=typeof b.highlightColor=="string"?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString();if(d<f.min||d>f.max||e<g.min||e>g.max)return;var h=b.points.radius+b.points.lineWidth/2;m.lineWidth=h,m.strokeStyle=highlightColor;var i=1.5*h,d=f.p2c(d),e=g.p2c(e);m.beginPath(),b.points.symbol=="circle"?m.arc(d,e,i,0,2*Math.PI,!1):b.points.symbol(m,d,e,i,!1),m.closePath(),m.stroke()}function bx(b,c){var d=typeof b.highlightColor=="string"?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString(),e=d,f=b.bars.align=="left"?0:-b.bars.barWidth/2;m.lineWidth=b.bars.lineWidth,m.strokeStyle=d,bg(c[0],c[1],c[2]||0,f,f+b.bars.barWidth,0,function(){return e},b.xaxis,b.yaxis,m,b.bars.horizontal,b.bars.lineWidth)}function by(b,c,d,e){if(typeof b=="string")return b;var f=l.createLinearGradient(0,d,0,c);for(var g=0,h=b.colors.length;g<h;++g){var i=b.colors[g];if(typeof i!="string"){var j=a.color.parse(e);i.brightness!=null&&(j=j.scale("rgb",i.brightness)),i.opacity!=null&&(j.a*=i.opacity),i=j.toString()}f.addColorStop(g/(h-1),i)}return f}var g=[],h={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,timezone:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},i=null,j=null,k=null,l=null,m=null,n=[],o=[],p={left:0,right:0,top:0,bottom:0},q=0,r=0,s=0,t=0,u={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},v=this;v.setData=z,v.setupGrid=U,v.draw=Z,v.getPlaceholder=function(){return b},v.getCanvas=function(){return i},v.getPlotOffset=function(){return p},v.width=function(){return s},v.height=function(){return t},v.offset=function(){var a=k.offset();return a.left+=p.left,a.top+=p.top,a},v.getData=function(){return g},v.getAxes=function(){var b={},c;return a.each(n.concat(o),function(a,c){c&&(b[c.direction+(c.n!=1?c.n:"")+"axis"]=c)}),b},v.getXAxes=function(){return n},v.getYAxes=function(){return o},v.c2p=D,v.p2c=E,v.getOptions=function(){return h},v.highlight=bt,v.unhighlight=bu,v.triggerRedrawOverlay=br,v.pointOffset=function(a){return{left:parseInt(n[B(a,"x")-1].p2c(+a.x)+p.left),top:parseInt(o[B(a,"y")-1].p2c(+a.y)+p.top)}},v.shutdown=O,v.resize=function(){K(),L(i),L(j)},v.hooks=u,x(v),y(e),M(),z(d),U(),Z(),N();var bk=[],bl=null}function c(a,b){return b*Math.floor(a/b)}a.plot=function(c,d,e){var f=new b(a(c),d,e,a.plot.plugins);return f},a.plot.version="0.7",a.plot.plugins=[]}(jQuery)},"lib/web_gl":function(a,b,c){((function(){var a;a={vertexShader:["attribute vec2 a_position;","attribute vec2 a_textureCoord;","uniform vec2 u_offset;","uniform float u_scale;","varying vec2 v_textureCoord;","void main() {","vec2 position = a_position + u_offset;","position = position * u_scale;","gl_Position = vec4(position, 0.0, 1.0);","v_textureCoord = a_textureCoord;","}"].join("\n"),fragmentShaders:{linear:["precision mediump float;","uniform sampler2D u_tex;","uniform vec2 u_extremes;","varying vec2 v_textureCoord;","void main() {","vec4 pixel_v = texture2D(u_tex, v_textureCoord);","float min = u_extremes[0];","float max = u_extremes[1];","float pixel = (pixel_v[0] - min) / (max - min);","gl_FragColor = vec4(pixel, pixel, pixel, 1.0);","}"].join("\n"),logarithm:["precision mediump float;","uniform sampler2D u_tex;","uniform vec2 u_extremes;","varying vec2 v_textureCoord;","float logarithm(float value) {","return log(value / 0.05 + 1.0) / log(1.0 / 0.05 + 1.0);","}","void main() {","vec4 pixel_v = texture2D(u_tex, v_textureCoord);","float min = u_extremes[0];","float max = u_extremes[1];","max = max - min;","float minScaled = logarithm(0.0);","max = logarithm(max);","float pixel = pixel_v[0] - min;","pixel = logarithm(pixel);","pixel = (pixel - minScaled) / (max - minScaled);","gl_FragColor = vec4(pixel, pixel, pixel, 1.0);","}"].join("\n"),sqrt:["precision mediump float;","uniform sampler2D u_tex;","uniform vec2 u_extremes;","varying vec2 v_textureCoord;","void main() {","vec4 pixel_v = texture2D(u_tex, v_textureCoord);","float min = u_extremes[0];","float max = u_extremes[1] - min;","float pixel = pixel_v[0] - min;","pixel = sqrt(pixel_v[0] / max);","gl_FragColor = vec4(pixel, pixel, pixel, 1.0);","}"].join("\n"),arcsinh:["precision mediump float;","uniform sampler2D u_tex;","uniform vec2 u_extremes;","varying vec2 v_textureCoord;","float arcsinh(float value) {","return log(value + sqrt(1.0 + value * value));","}","float scaledArcsinh(float value) {","return arcsinh(value / -0.033) / arcsinh(1.0 / -0.033);","}","void main() {","vec4 pixel_v = texture2D(u_tex, v_textureCoord);","float min = scaledArcsinh(u_extremes[0]);","float max = scaledArcsinh(u_extremes[1]);","float value = scaledArcsinh(pixel_v[0]);","float pixel = (value - min) / (max - min);","gl_FragColor = vec4(pixel, pixel, pixel, 1.0);","}"].join("\n"),power:["precision mediump float;","uniform sampler2D u_tex;","uniform vec2 u_extremes;","varying vec2 v_textureCoord;","void main() {","vec4 pixel_v = texture2D(u_tex, v_textureCoord);","float min = u_extremes[0];","float max = u_extremes[1] - min;","float pixel = pixel_v[0] - min;","pixel = pow(pixel / max, 2.0);","gl_FragColor = vec4(pixel, pixel, pixel, 1.0);","}"].join("\n"),color:["precision mediump float;","uniform vec2 u_resolution;","uniform sampler2D u_tex_g;","uniform sampler2D u_tex_r;","uniform sampler2D u_tex_i;","uniform vec2 u_extremes;","float arcsinh(float value) {","return log(value + sqrt(1.0 + value * value));","}","float f(float minimum, float maximum, float value) {","float pixel = clamp(value, minimum, maximum);","float alpha = 0.02;","float Q = 8.0;","return arcsinh(alpha * Q * (pixel - minimum)) / Q;","}","void main() {","vec2 texCoord = gl_FragCoord.xy / u_resolution;","vec4 pixel_v_g = texture2D(u_tex_g, texCoord);","vec4 pixel_v_r = texture2D(u_tex_r, texCoord);","vec4 pixel_v_i = texture2D(u_tex_i, texCoord);","float minimum = u_extremes[0];","float maximum = u_extremes[1];","float g = pixel_v_g[0];","float r = pixel_v_r[0];","float i = pixel_v_i[0];","float I = (g + r + i) / 3.0;","float fI = f(minimum, maximum, I);","float fII = fI / I;","float R = i * fII;","float G = r * fII;","float B = g * fII;","float RGBmax = max(max(R, G), B);","if (RGBmax > 1.0) {","R = R / RGBmax;","G = G / RGBmax;","B = B / RGBmax;","}","if (I == 0.0) {","R = 0.0;","G = 0.0;","B = 0.0;","}","gl_FragColor = vec4(R, G, B, 1.0);","}"].join("\n")},check:function(){return window.WebGLRenderingContext?!0:!1},setupCanvas:function(a,b,c){var d;return d=document.createElement("canvas"),d.setAttribute("class","webgl-fits"),d.setAttribute("hidden","hidden"),d.setAttribute("width",b),d.setAttribute("height",c),a.appendChild(d),d},create3DContext:function(a,b){var c,d,e,f,g;e=["webgl","experimental-webgl"],c=null;for(f=0,g=e.length;f<g;f++){d=e[f];try{c=a.getContext(d,b)}catch(h){}if(c)break}return c},loadShader:function(a,b,c){var d,e,f;f=a.createShader(c),a.shaderSource(f,b),a.compileShader(f),d=a.getShaderParameter(f,a.COMPILE_STATUS);if(!d)throw e=a.getShaderInfoLog(f),"Error compiling shader "+f+": "+e;return f},createProgram:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;i=a.createProgram();for(k=0,m=b.length;k<m;k++)j=b[k],a.attachShader(i,j);if(c!=null)for(f=l=0,n=c.length;l<n;f=++l)e=c[f],h=d!=null?d[f]:f,a.bindAttribLocation(i,h,e);a.linkProgram(i),g=a.getProgramParameter(i,a.LINK_STATUS);if(!g)throw"Error in program linking: "+a.getProgramInfoLog(i);return i}},typeof c!="undefined"&&c!==null&&(c.exports=a)})).call(this)}})