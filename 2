Spine = require('spine')
Navigator = require 'controllers/interactive/navigator'
User = require 'zooniverse/lib/models/user'
UserGroup = require 'models/user_group'

class Interactive extends Spine.Controller

  constructor: ->
    super
    User.bind 'sign-in', @activeGroups

  active: =>
    super
    @html require('views/interactive/box')(@)
    unless @navigator
      @navigator = new Navigator

  elements:
    'ul.groups-dropdown' : 'groupsList'

  activeGroups: =>
    @groups = new Array
    if User.current
      displayGroup group for group in User.current.user_groups
    if User.current.user_group_id

  displayGroup: (group) =>
    @groupsList.append """
      <li class="user-group"><a href="/#/navigator/groups/#{group.id}">#{group.name}</a></li>
    """
    
module.exports = Interactive